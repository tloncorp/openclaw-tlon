import { StorageConfiguration, StorageCredentials } from './upload';
import * as ub from '../urbit';
export type StorageUpdateCredentials = ub.StorageUpdateCredentials & {
    type: 'storageCredentialsChanged';
};
export type StorageUpdateConfiguration = ub.StorageUpdateConfiguration & {
    type: 'storageCongfigurationChanged';
};
export type StorageUpdateCurrentBucket = ub.StorageUpdateCurrentBucket & {
    type: 'storageCurrentBucketChanged';
};
export type StorageUpdateAddBucket = ub.StorageUpdateAddBucket & {
    type: 'storageBucketAdded';
};
export type StorageUpdateRemoveBucket = ub.StorageUpdateRemoveBucket & {
    type: 'storageBucketRemoved';
};
export type StorageUpdateEndpoint = ub.StorageUpdateEndpoint & {
    type: 'storageEndpointChanged';
};
export type StorageUpdateAccessKeyId = ub.StorageUpdateAccessKeyId & {
    type: 'storageAccessKeyIdChanged';
};
export type StorageUpdateSecretAccessKey = ub.StorageUpdateSecretAccessKey & {
    type: 'storageSecretAccessKeyChanged';
};
export type StorageUpdateRegion = ub.StorageUpdateRegion & {
    type: 'storageRegionChanged';
};
export type StorageUpdateSetPresignedUrl = ub.StorageUpdateSetPresignedUrl & {
    type: 'storagePresignedUrlChanged';
};
export type StorageUpdateToggleService = ub.StorageUpdateToggleService & {
    type: 'storageServiceToggled';
};
export type StorageEventUnknown = {
    type: 'storageEventUnknown';
    data: unknown;
};
export type StorageUpdate = StorageUpdateCredentials | StorageUpdateConfiguration | StorageUpdateCurrentBucket | StorageUpdateAddBucket | StorageUpdateRemoveBucket | StorageUpdateEndpoint | StorageUpdateAccessKeyId | StorageUpdateSecretAccessKey | StorageUpdateRegion | StorageUpdateToggleService | StorageUpdateSetPresignedUrl | StorageEventUnknown;
export declare const subscribeToStorageUpdates: (eventHandler: (update: StorageUpdate) => void) => Promise<void>;
export declare const getStorageConfiguration: () => Promise<StorageConfiguration>;
export declare const getStorageCredentials: () => Promise<StorageCredentials>;
export interface UploadFileParams {
    blob: Blob;
    fileName?: string;
    contentType?: string;
}
export interface UploadResult {
    url: string;
}
/**
 * Upload a file to storage.
 *
 * For hosted users, uploads via Memex.
 * For self-hosted users with custom S3, generates presigned URLs using AWS SDK.
 *
 * @param params - The file to upload (blob, optional fileName and contentType)
 */
export declare function uploadFile(params: UploadFileParams): Promise<UploadResult>;
//# sourceMappingURL=storageApi.d.ts.map