"use strict";function t(t){const r=t.toString(16),n=r.length%2==0?r:"0"+r,e=new Uint8Array(n.length/2);for(let t=0;t<n.length;t+=2){const r=n.slice(t,t+2),o=parseInt(r,16)<<24>>24;e[t/2]=o}return e}Object.defineProperty(exports,"__esModule",{value:!0});const r=[],n=[],e=[];let o=0;function i(t){if(0n===t)return 0;let i=0;for(;o===i&&(r.push(32<<o),n.push(BigInt(r[o])),e.push(1n<<n[o]),o++),!(t<e[i]);)i++;if(!i)return 32-Math.clz32(Number(t));i--;let u=r[i],a=t>>n[i];for(;i--;){let t=a>>n[i];t&&(u+=r[i],a=t)}return u+32-Math.clz32(Number(a))}function u(t,r){if(16===r)return BigInt("0x"+(t||"0"));if(10===r)return BigInt(t||"0");let n=BigInt(0);const e=BigInt(r),o=t.length;for(let i=0;i<o;i++){const o=parseInt(t.charAt(i),r);if(isNaN(o))throw new Error(`Invalid character for radix ${r}: '${t.charAt(i)}'`);n=n*e+BigInt(o)}return n}function a(r,n,e){let o,i,u,a,s,l,h,f,c;if(0n===n?(c=new Uint8Array(0),r=r||0):(c=t(n),r=r||c.length),c.length<r){const t=new Uint8Array(r-c.length),n=new Uint8Array(c.length+t.length);n.set(t),n.set(c,t.length),c=n}else if(c.length>r)throw new Error("murmur3 oversized key for length");for(c.reverse(),o=3&c.length,i=c.length-o,u=e,s=3432918353,l=461845907,f=0;f<i;)h=255&c[f]|(255&c[++f])<<8|(255&c[++f])<<16|(255&c[++f])<<24,++f,h=(65535&h)*s+(((h>>>16)*s&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(65535&h)*l+(((h>>>16)*l&65535)<<16)&4294967295,u^=h,u=u<<13|u>>>19,a=5*(65535&u)+((5*(u>>>16)&65535)<<16)&4294967295,u=27492+(65535&a)+((58964+(a>>>16)&65535)<<16);switch(h=0,o){case 3:h^=(255&c[f+2])<<16;case 2:h^=(255&c[f+1])<<8;case 1:h^=255&c[f],h=(65535&h)*s+(((h>>>16)*s&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(65535&h)*l+(((h>>>16)*l&65535)<<16)&4294967295,u^=h}return u^=c.length,u^=u>>>16,u=2246822507*(65535&u)+((2246822507*(u>>>16)&65535)<<16)&4294967295,u^=u>>>13,u=3266489909*(65535&u)+((3266489909*(u>>>16)&65535)<<16)&4294967295,u^=u>>>16,u>>>0}function s(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const e=1===r.length?r[0]:r;if(N(e))return e;if("number"==typeof e)return y.fromInt(e);if("bigint"==typeof e)return new y(e);if("string"==typeof e)return y.fromCord(e);if(Array.isArray(e)){if(e.length<2)return s(e[0]);const t=s(e[e.length-2]),r=s(e[e.length-1]);let n=new E(t,r);for(var o=e.length-3;o>=0;--o)n=new E(s(e[o]),n);return n}if(null===e)return y.zero;throw console.error("what do you mean??",typeof e,JSON.stringify(e)),new Error("dwim, but meaning unclear")}const l={nounify:s,dwim:s,list:function(t){return 0===t.length?y.zero:s([...t,y.zero])},set:function(t){if(0===t.length)return y.zero;let r=y.zero;for(let n of t)r=g(r,s(n));return r},map:function(t){if(0===t.length)return y.zero;let r=y.zero;for(let n of t)r=b(r,s(n.key),s(n.val));return r}};function h(t,r,n){let e=0;for(;e<8;){const r=a(null,n,t),o=r>>>31^2147483647&r;if(0!==o)return o;e++,t++}return r}function f(t,r){return!!t.equals(r)||(t.isCell()?!r.isAtom()&&(t.head.equals(r.head)?f(t.tail,r.tail):f(t.head,r.head)):!!r.isCell()||t<r)}function c(t,r){const n=t.mug(),e=r.mug();return n===e?f(t,r):n<e}function m(t,r){const n=y.fromInt(t.mug()).mug(),e=y.fromInt(r.mug()).mug();return n===e?f(t,r):n<e}function d(t){return t.isCell()&&t.tail.isCell()}function g(t,r){if(t.equals(y.zero))return s(r,null,null);if(!d(t))throw new Error("malformed set");if(r.equals(t.head))return t;if(c(r,t.head)){const n=g(t.tail.head,r);if(!d(n))throw new Error("implementation error");return m(t.head,n.head)?s(t.head,n,t.tail.tail):s(n.head,n.tail.head,[t.head,n.tail.tail,t.tail.tail])}const n=g(t.tail.tail,r);if(!d(n))throw new Error("implementation error");return m(t.head,n.head)?s(t.head,t.tail.head,n):s(n.head,[t.head,t.tail.head,n.tail.head],n.tail.tail)}function w(t){return t.isCell()&&t.head.isCell()&&t.tail.isCell()}function b(t,r,n){if(t.equals(y.zero))return s([r,n],null,null);if(!w(t))throw new Error("malformed map");if(r.equals(t.head.head))return n.equals(t.head.tail)?t:s([r,n],t.tail);if(c(r,t.head.head)){const e=b(t.tail.head,r,n);if(!w(e))throw new Error("implementation error");return m(t.head.head,e.head.head)?s(t.head,e,t.tail.tail):s(e.head,e.tail.head,[t.head,e.tail.tail,t.tail.tail])}const e=b(t.tail.tail,r,n);if(!w(e))throw new Error("implementation error");return m(t.head.head,e.head.head)?s(t.head,t.tail.head,e):s(e.head,[t.head,t.tail.head,e.tail.head],e.tail.tail)}var p;const v={0:function(t){throw new Error("Bail")},1:function(t){return t}};class y{constructor(t){this.number=void 0,this._mug=0,this.deep=!1,this.number=t}isAtom(){return!0}isCell(){return!1}pretty(r,n){if(this.number<65536n)r.push(this.number.toString(10));else{let n=[],e=!0,o=!0,i=t(this.number);for(let t=i.length-1;t>=0;--t){const r=i[t];if(e&&(r<32||r>127)){e=!1,o=!1;break}o&&!(r>47&&r<58||r>96&&r<123||45===r)&&(o=!1),n.push(String.fromCharCode(r))}o?(r.push("%"),r.push.apply(r,n)):e?(r.push("'"),r.push.apply(r,n),r.push("'")):(r.push("0x"),r.push(this.number.toString(16)))}}toString(){const t=[];return this.pretty(t,!1),t.join("")}equals(t){return t instanceof y&&t.number===this.number}loob(){if(0===Number(this.number))return!0;if(1===Number(this.number))return!1;throw new Error("Bail")}mug(){return 0===this._mug&&(this._mug=this.calculateMug()),this._mug}calculateMug(){return h(3405691582,32767,this.number)}mugged(){return 0!==this._mug}at(t){return y.fragmenter(t)(this)}bump(){return new y(this.number+1n)}bytes(){const r=t(this.number),n=[];for(var e=r.length-1;e>=0;--e)n.push(255&r[e]);return n}cap(){if(0===Number(this.number))throw new Error("Bail");if(1===Number(this.number))throw new Error("Bail");return t=this.number,r=i(this.number)-2,(t&BigInt(1)<<BigInt(r))!==BigInt(0)?new y(3n):new y(2n);var t,r}mas(){if(0===Number(this.number))throw new Error("Bail");if(1===Number(this.number))throw new Error("Bail");if(2===Number(this.number))return new y(1n);if(3===Number(this.number))return new y(1n);{const t=this.number,r=i(t)-2,n=BigInt(1<<r),e=BigInt((1<<r)-1);return new y(t&e^n)}}shortCode(){return this.number.toString(36)}static cordToString(t){const r=t.bytes(),n=[];for(let t=0;t<r.length;++t)n.push(String.fromCharCode(r[t]));return n.join("")}static fragmenter(t){const r=t.shortCode();if(v.hasOwnProperty(r))return v[r];for(var n=["a"];!y.one.equals(t);t=t.mas())n.push(y.two.equals(t.cap())?"head":"tail");return v[r]=new Function("a","return "+n.join(".")+";")}static fromString(t,r){void 0===r&&(r=10);const n=u(t,r);return new y(n)}static fromInt(t){return t<256?y.small[t]:new y(BigInt(t))}static fromCord(t){if(0===t.length)return y.zero;let r,n,e=Array(t.length);for(r=0,n=e.length-1;r<e.length;++r,--n){const o=(255&t.charCodeAt(r)).toString(16);e[n]=1===o.length?"0"+o:o}return t.length>4?y.fromString(e.join(""),16):new y(BigInt(parseInt(e.join(""),16)))}}p=y,y.small=Array.from(Array(256)).map((function(t,r){return new p(BigInt(r))})),y.zero=p.small[0],y.one=p.small[1],y.two=p.small[2],y.three=p.small[3];class E{constructor(t,r,n){void 0===n&&(n=!0),this.head=void 0,this.tail=void 0,this.deep=void 0,this._mug=0,this.head=t,this.tail=r,this.deep=n}isAtom(){return!1}isCell(){return!0}pretty(t,r){r||t.push("["),this.head.pretty(t,!1),t.push(" "),this.tail.pretty(t,!0),r||t.push("]")}toString(){const t=[];return this.pretty(t,!1),t.join("")}mug(){return 0===this._mug&&(this._mug=this.calculateMug()),this._mug}calculateMug(){return h(3735928559,65534,BigInt(this.tail.mug())<<32n|BigInt(this.head.mug()))}mugged(){return 0!==this._mug}equals(t){return t instanceof E&&this.unify(t)}bump(){throw new Error("Bail")}loob(){throw new Error("Bail")}at(t){return y.fragmenter(t)(this)}unify(t){if(this===t)return!0;if(t.mugged()){if(!this.mugged())return t.unify(this);if(this.mug()!=t.mug())return!1}return!(!this.head.equals(t.head)||(t.head=this.head,!this.tail.equals(t.tail))||(t._mug=this._mug,t.tail=this.tail,0))}}function z(t){return t instanceof y}function B(t){return t instanceof E}function N(t){return z(t)||B(t)}const x=function(t){return function(r){let n=0,e={};for(;n<t.length-1;){if(!(r instanceof E))throw new Error("pairs: noun too shallow");e[t[n].nom]=t[n].get(r.head),r=r.tail,n++}return e[t[n].nom]=t[n].get(r),e}},I=function(t){return function(r){let n=[];for(;r instanceof E;)n.push(t(r.head)),r=r.tail;return n}},S=function(t){return function(r){if(r instanceof E){if(!(r.tail instanceof E))throw new Error("tree: malformed");return[...S(t)(r.tail.tail),t(r.head),...S(t)(r.tail.head)]}return[]}},A=function(t){if(!(t instanceof y))throw new Error(`cord: noun not atom ${t.toString()}`);return y.cordToString(t)},q={frond:function(t){return function(r){if(!(r instanceof E&&r.head instanceof y))throw new Error("frond: noun not cell with tag head");const n=y.cordToString(r.head);for(let e=0;e<t.length;e++)if(n===t[e].tag)return{[n]:t[e].get(r.tail)};throw new Error("frond: unknown tag"+n)}},tuple:function(t){return function(r){let n=0,e=[];for(;n<t.length-1;){if(r.isAtom())throw new Error("tuple: noun too shallow");e.push(t[n](r.head)),r=r.tail,n++}return e.push(t[n](r)),e}},pairs:x,pair:function(t,r,n,e){return x([{nom:t,get:r},{nom:n,get:e}])},array:I,loob:function(t){return t.loob()},tree:S,cord:A,tape:function(t){return I((t=>{if(t.isCell())throw new Error("tape: malformed");return y.cordToString(t)}))(t).join()},numb:function(t){if(!(t instanceof y))throw new Error("numb: noun not atom");return i(t.number)<=32?Number(t.number):t.number.toString()},numb32:function(t){if(!(t instanceof y))throw new Error("numb32: noun not atom");if(i(t.number)>32)throw new Error("numb32: number too big");return Number(t.number)},numbString:function(t){if(!(t instanceof y))throw new Error("numbString: noun not atom");return t.number.toString()},path:I(A),buccen:function(t){return function(r){if(!(r instanceof E&&r.head instanceof y))throw new Error("buccen: noun not cell with tag head");const n=y.cordToString(r.head);for(let e=0;e<t.length;e++)if(n===t[e].tag)return t[e].get(r.tail);throw new Error("buccen: unknown tag: "+n)}},bucwut:function(t){return function(r){for(let n=0;n<t.length;n++)try{return t[n](r)}catch(t){continue}throw new Error("bucwut: no matches")}},nill:function(t){if(!(t instanceof y&&0n===t.number))throw new Error("nill: not null");return null}};function C(t,r){var n=i(r.number),e=n>>>t;return e<<t!==n?e+1:e}function _(t,r){return t.number>r.number}function k(t,r){var n=t.number-r.number;if(n<0)throw new Error("subtract underflow");return new y(n)}function j(t){var r=t.length,n=r%4;let e,o,i;if(n>0)for(r+=4-n,e=0;e<n;++e)t.push(0);const u=r>>2,a=new Array(u);for(e=0,o=0;e<u;++e)i=255&t[o++],i^=t[o++]<<8&65280,i^=t[o++]<<16&16711680,i^=t[o++]<<24&4278190080,a[e]=i;return a}function U(t){const r=[];let n,e,o;for(e=0,o=0;e<t.length;++e)n=t[e],r[o++]=255&n,r[o++]=255&(65280&n)>>>8,r[o++]=255&(16711680&n)>>>16,r[o++]=255&(4278190080&n)>>>24;for(;0===r[--o];)r.pop();return r}function T(t){let r,n=[];for(var e=t.length-1;e>=0;--e)r=255&t[e],n.push(r<16?"0"+r.toString(16):r.toString(16));const o=u(n.join(""),16);return new y(o)}function M(t){return t.bytes()}function F(t){return j(M(t))}function O(t){return T(U(t))}var $=O;function D(t,r){return new Array(31+(r<<t)>>>5)}function L(t,r,n,e,o,i){var u,a,s,l,h,f,c,m,d,g,w=F(i),b=w.length;if(t<5)for(s=(1<<(c=1<<t))-1,l=r<<t,h=e<<t,u=0;u<n;++u)o[h>>>5]^=(((g=l>>>5)>=b?0:w[g])>>>(31&l)&s)<<(31&h),l+=c,h+=c;else for(c=1<<(f=t-5),u=0;u<n;++u)for(m=r+u<<f,d=e+u<<f,a=0;a<c;++a)o[d+a]^=m+a>=b?0:w[m+a]}const P=y.fromInt(4294967295),V=y.fromInt(32);var W={met:C,cut:function(t,r,n,e){if(0n===t.number)return new y(e.number>>r.number&(1n<<n.number)-1n);var o=Number(t.number),i=Number(r.number),u=Number(n.number),a=C(o,e);if(y.zero.equals(n)||i>=a)return y.zero;if(i+u>a&&(u=a-Number(r.number)),0===i&&u===a)return e;var s=D(o,u);return L(o,i,u,0,s,e),$(s)},add:function(t,r){return new y(t.number+r.number)},sub:k,dec:function(t){return k(t,y.one)},gth:_,lth:function(t,r){return t.number<r.number},gte:function(t,r){return t.number>=r.number},lte:function(t,r){return t.number<=r.number},bex:function(t){return new y(1n<<t.number)},lsh:function(t,r,n){var e=Number(r.number<<t.number);return new y(n.number<<BigInt(e))},rsh:function(t,r,n){return new y(n.number>>BigInt(r.number<<t.number))},end:function(t,r,n){if(_(t,V))throw new Error("Fail");if(_(r,P))return n;var e=Number(t.number),o=Number(r.number),i=C(e,n);if(0===o)return y.zero;if(o>=i)return n;var u=D(e,o);return L(e,0,o,0,u,n),$(u)},mix:function(t,r){return new y(t.number^r.number)},cat:function(t,r,n){if(_(t,V))throw new Error("Fail");var e=Number(t.number),o=C(e,r),i=C(e,n),u=o+i;if(0===u)return y.zero;{const t=D(e,u);return L(e,0,o,0,t,r),L(e,0,i,o,t,n),$(t)}},can:function(t,r){if(_(t,V))throw new Error("Fail");{let e,o,i,u,a=Number(t.number),s=0,l=r;for(;!y.zero.equals(l);){if(l instanceof y)throw new Error("Fail");if(o=l.head,o instanceof y)throw new Error("Fail");if(o instanceof E&&(i=o.head,u=o.tail),i instanceof y&&_(i,P))throw new Error("Fail");if(u instanceof E)throw new Error("Fail");i instanceof y&&(s+=Number(i.number)),l instanceof E&&(l=l.tail)}if(0===s)return y.zero;var n=D(a,s);for(l=r,e=0;!y.zero.equals(l);)l instanceof E&&(o=l.head),o instanceof E&&(o.head instanceof y&&(i=Number(o.head.number)),u=o.tail,L(a,0,i,e,n,u),e+=i,l instanceof E&&(l=l.tail));return $(n)}},bytesToWords:j,wordsToBytes:U,bytesToAtom:T,atomToBytes:M,atomToWords:F,wordsToAtom:O};const J=l.dwim,G=function(t,r,n){if(void 0===r&&(r=y.one),void 0===n&&(n={}),"string"==typeof t)return""===t||(n[t]=r),n;if(0===t.length)return n;if(1===t.length)return G(t[0],r,n);{const e=W.lsh(y.zero,y.one,r);return n=G(t[0],e,n),G(t.slice(1),e.bump(),n)}},H={mask:G,grab:(t,r,n)=>r.at(t[n])};class K{}class Q extends K{constructor(){super(),this.slots=void 0,this.slots=Array(32)}insert(t,r,n,e){const o=e>>>(n-=5);return e&=(1<<n)-1,this.slots[o]=void 0===this.slots[o]?new X(t,r):this.slots[o].insert(t,r,n,e),this}get(t,r,n){const e=n>>>(r-=5);n&=(1<<r)-1;const o=this.slots[e];return void 0===o?void 0:o.get(t,r,n)}}class R extends K{constructor(){super(),this.singles=void 0,this.singles=[]}insert(t,r,n,e){const o=this.singles;for(var i=0;i<o.length;++i){const n=o[i];if(n.key.equals(t))return n.val=r,this}return o.push(new X(t,r)),this}get(t){const r=this.singles;for(var n=0;n<r.length;++n){const e=r[n];if(e.key.equals(t))return e.val}}}class X extends K{constructor(t,r){super(),this.key=void 0,this.val=void 0,this.key=t,this.val=r}insert(t,r,n,e){if(this.key.equals(t))return this.val=r,this;{const o=this.key.mug()&(1<<n)-1,i=n>0?new Q:new R;return i.insert(this.key,this.val,n,o),i.insert(t,r,n,e),i}}get(t){if(this.key.equals(t))return this.val}}class Y{constructor(){this.slots=void 0,this.slots=Array(64)}insert(t,r){const n=t.mug(),e=n>>>25,o=this.slots;o[e]=void 0===o[e]?new X(t,r):o[e].insert(t,r,25,33554431&n)}get(t){const r=t.mug(),n=this.slots[r>>>25];if(void 0!==n)return n.get(t,25,33554431&r)}}function Z(t){if(1===t.length)return BigInt(t[0]);let r,n=[];for(var e=t.length-1;e>=0;--e)r=255&t[e],n.push(r.toString(16).padStart(2,"0"));return u(n.join(""),16)}function tt(r){return new DataView(new Uint8Array(t(r).reverse()).buffer)}function rt(t,r){const n=Math.floor(t/8);return r.getUint8(n)>>t%8&1}function nt(t,r,n){if(1===r)return rt(t,n)?1n:0n;const e=t%8;if(0===e)return function(t,r,n){if(t%8!=0)throw new Error("non-byte-aligned read "+t);let e=Math.floor(t/8);const o=[];for(;r>=8;)o.push(n.getUint8(e)),e++,r-=8;return r>0n&&o.push(n.getUint8(e)&255>>8-r),Z(o)}(t,r,n);const o=[];let i=Math.floor(t/8);const u=8-e,a=e,s=255>>8-a;for(;r>=8;){const t=n.getUint8(i),e=n.getUint8(i+1);o.push((e&s)<<u|t>>a),i++,r-=8}if(r>0n){const t=Math.min(r,8-e),u=r-t,a=255>>8-t<<e,s=255>>8-u,l=n.getUint8(i),h=i+1>=n.byteLength?0:n.getUint8(i+1);o.push((0===u?0:(h&s)<<t)|(l&a)>>e)}return Z(o)}function et(t,r,n){var e,o,i,u,a,s,l,h,f;for(f=t+n,a=t;0===rt(a,r);){if(s=a+1,a>f)throw new Error("bail: rubbing past end");a=s}if(t===a)return{head:1,tail:y.zero};if(o=a+1,(a=(e=a-t)-1)>52)throw new Error("bail: rubbing oversized pointer (>52 bits)");return s=(u=e+e)+(i=(s=2**a)+Number(nt(o,a,r))),l=u+i,h=nt(o+a,i,r),{head:l,tail:new y(h)}}function ot(t,r,n){return t[r]=n}function it(t,r,n,e){let o,i;if(0===rt(e,r)){const u=et(1+e,r,n);o=u.head+1,i=u.tail,ot(t,e,i)}else{let u=2+e;if(0===rt(1+e,r)){const a=it(t,r,n,u),s=it(t,r,n,a.head+u);o=2+(a.head+s.head),i=new E(a.tail,s.tail),ot(t,e,i)}else{const e=et(u,r,n),a=function(t,r){return t[r]}(t,Number(e.tail.number));if(void 0===a)throw new Error("Bail");o=2+e.head,i=a}}return{head:o,tail:i}}function ut(t){return it({},t,function(t){const r=t.byteLength-1;if(r>2**49)throw new Error("bail: oversized byte buffer");return 8*r+t.getUint8(r).toString(2).length}(t),0).tail}function at(t){if(y.zero.equals(t))return J(1,1);{const r=J(W.met(0,t)),n=J(W.met(0,r)),e=W.dec(n),o=W.add(n,n),i=W.end(y.zero,e,r),u=W.bex(n),a=W.lsh(y.zero,e,t),s=W.mix(i,a),l=W.add(o,r),h=W.cat(y.zero,u,s);return J(l,h)}}function st(t,r){var n=at(t),e=W.add(y.one,n.head);return J(e,[[e,W.lsh(y.zero,y.one,n.tail)],r],y.zero)}function lt(t,r,n,e){const o=t.get(r);return null==o?(t.insert(r,n),r instanceof E?function(t,r,n,e,o){var i=J([2,1],o),u=W.add(y.two,e),a=lt(t,r,u,i),s=lt(t,n,W.add(u,a.head),a.tail.head),l=W.add(a.head,s.head);return J(W.add(y.two,l),s.tail.head,y.zero)}(t,r.head,r.tail,n,e):st(r,e)):r instanceof y&&W.met(0,r)<=W.met(0,o)?st(r,e):function(t,r){var n=at(t),e=W.lsh(y.zero,y.two,n.tail),o=W.add(y.two,n.head);return J(o,[[o,W.mix(y.three,e)],r],y.zero)}(o,e)}exports.Atom=y,exports.Cell=E,exports.bi_cut=function(t,r,n){return nt(Number(t),Number(r),tt(n))},exports.bigintToDataView=tt,exports.cue=function(t){return ut(tt(t.number))},exports.cue_bytes=ut,exports.dejs=l,exports.dwim=J,exports.enjs=q,exports.experimental=H,exports.fragCache=v,exports.isAtom=z,exports.isCell=B,exports.isNoun=N,exports.jam=function(t){const r=function(t){for(var r=y.zero;;){if(y.zero.equals(t))return r;if(t instanceof y)throw new Error("Bail");r=new E(t.head,r),t=t.tail}}(lt(new Y,t,y.zero,y.zero).tail.head);return W.can(y.zero,r)},exports.mat=at;
//# sourceMappingURL=nockjs.cjs.production.min.js.map
