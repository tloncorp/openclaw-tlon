{"version":3,"file":"nockjs.cjs.development.js","sources":["../src/bigint.ts","../src/murmur3.ts","../src/noun-dejs.ts","../src/noun-std.ts","../src/noun.ts","../src/noun-enjs.ts","../src/bits.ts","../src/noun-helpers.ts","../src/list.ts","../src/hamt.ts","../src/serial.ts"],"sourcesContent":["\nexport function bigIntToByteArray(bigInt: bigint): Uint8Array {\n  const hexString = bigInt.toString(16);\n  const paddedHexString = hexString.length % 2 === 0 ? hexString : '0' + hexString;\n  const arrayLength = paddedHexString.length / 2;\n  const int8Array = new Uint8Array(arrayLength);\n  for (let i = 0; i < paddedHexString.length; i += 2) {\n    const hexSubstring = paddedHexString.slice(i, i + 2);\n    const signedInt = (parseInt(hexSubstring, 16) << 24) >> 24;\n    int8Array[(i / 2)] = signedInt;\n  }\n  return int8Array;\n}\n\n//  bit length cache entries\nconst blcCoeff: number[] = [];\nconst blcBigCoeff: bigint[] = [];\nconst blc: bigint[] = [];\nlet blcNext = 0;\n\nexport function bitLength(bigIntValue: bigint): number {\n  if (bigIntValue === 0n) return 0;\n\n  //  there is no native bigint bitlength measuring support,\n  //  so we roll our own. this beats toString-based implementations (and those,\n  //  slightly surprisingly, beat manual bitstep loops).\n  //  the approach here is to find *an* upper bound quickly through comparisons,\n  //  in exponentially escalating steps, and then slowly step down the\n  //  comparisons to find the exact result. we get final precision from\n  //  Math.clz32. this approach makes measurements on large bignums way faster.\n  //  https://stackoverflow.com/a/76616288\n\n  //  find upper bound\n  let k = 0\n  while (true) {\n    if (blcNext === k) {\n      blcCoeff.push(32 << blcNext);\n      blcBigCoeff.push(BigInt(blcCoeff[blcNext]));\n      blc.push(1n << blcBigCoeff[blcNext]);\n      blcNext++;\n    }\n    if (bigIntValue < blc[k]) break;\n    k++;\n  }\n\n  //  smallint case\n  if (!k)\n    return 32 - Math.clz32(Number(bigIntValue));\n\n  //  determine exact length by bisection\n  k--;\n  let i = blcCoeff[k];\n  let a = bigIntValue >> blcBigCoeff[k];\n  while (k--) {\n    let b = a >> blcBigCoeff[k];\n    if (b) (i += blcCoeff[k], a = b);\n  }\n\n  return i + 32 - Math.clz32(Number(a));\n}\n\nexport function testBit(bigIntValue: bigint, index: number): boolean {\n  return (bigIntValue & (BigInt(1) << BigInt(index))) !== BigInt(0);\n}\nexport function shortValue(bigintValue: bigint): number {\n  const result = Number(bigintValue % BigInt(2 ** 16));\n  return result >= 2 ** 15 ? result - 2 ** 16 : result;\n}\nexport function bigIntFromStringWithRadix(number: string, radix: number): bigint {\n  //  native constructor is slightly faster\n  if (radix === 16) return BigInt('0x' + (number || '0'));\n  if (radix === 10) return BigInt(number || '0');\n\n  let result = BigInt(0);\n  const base = BigInt(radix);\n  const length = number.length;\n\n  for (let i = 0; i < length; i++) {\n    const digit = parseInt(number.charAt(i), radix);\n    if (isNaN(digit)) {\n      throw new Error(`Invalid character for radix ${radix}: '${number.charAt(i)}'`);\n    }\n    result = result * base + BigInt(digit);\n  }\n\n  return result;\n}","import { bigIntToByteArray } from \"./bigint\";\n\n// modified from source to accept bigint key and have optional key bytelength arg\n// see: https://github.com/garycourt/murmurhash-js\n//\n// Copyright (c) 2011 Gary Court\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n// of the Software, and to permit persons to whom the Software is furnished to do\n// so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n/**\n * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)\n *\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/murmurhash-js\n * @author <a href=\"mailto:aappleby@gmail.com\">Austin Appleby</a>\n * @see http://sites.google.com/site/murmurhash/\n *\n * @param {string} key ASCII only\n * @param {number} seed Positive integer only\n * @return {number} 32-bit positive integer hash\n **/\nexport function murmurhash3_bi(len: number | null, key: bigint, seed: number) {\n  let remainder, bytes, h1, h1b, c1, c2, k1, i; // c1b, c2b unused\n\n  let yek: Uint8Array;\n  if (0n === key) {\n    yek = new Uint8Array(0);\n    len = len || 0;\n  } else {\n    yek = bigIntToByteArray(key);\n    len = len || yek.length;\n  }\n  if (yek.length < len) {\n    const fil = new Uint8Array(len - yek.length);\n    const nek = new Uint8Array(yek.length + fil.length);\n    nek.set(fil);\n    nek.set(yek, fil.length);\n    yek = nek;\n  } else if (yek.length > len) {\n    throw new Error(\"murmur3 oversized key for length\");\n  }\n  yek.reverse();  //  shenanigans\n\n  remainder = yek.length & 3; // yek.length % 4\n  bytes = yek.length - remainder;\n  h1 = seed;\n  c1 = 0xcc9e2d51;\n  c2 = 0x1b873593;\n  i = 0;\n\n  while (i < bytes) {\n    k1 =\n      (yek[i] & 0xff) |\n      ((yek[++i] & 0xff) << 8) |\n      ((yek[++i] & 0xff) << 16) |\n      ((yek[++i] & 0xff) << 24);\n    ++i;\n\n    k1 =\n      ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;\n    k1 = (k1 << 15) | (k1 >>> 17);\n    k1 =\n      ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;\n\n    h1 ^= k1;\n    h1 = (h1 << 13) | (h1 >>> 19);\n    h1b =\n      ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) & 0xffffffff;\n    h1 = (h1b & 0xffff) + 0x6b64 + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);\n  }\n\n  k1 = 0;\n\n  switch (remainder) {\n    case 3:\n      k1 ^= (yek[i + 2] & 0xff) << 16;\n    case 2:\n      k1 ^= (yek[i + 1] & 0xff) << 8;\n    case 1:\n      k1 ^= yek[i] & 0xff;\n\n      k1 =\n        ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &\n        0xffffffff;\n      k1 = (k1 << 15) | (k1 >>> 17);\n      k1 =\n        ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &\n        0xffffffff;\n      h1 ^= k1;\n  }\n\n  h1 ^= yek.length;\n\n  h1 ^= h1 >>> 16;\n  h1 =\n    ((h1 & 0xffff) * 0x85ebca6b +\n      ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) &\n    0xffffffff;\n  h1 ^= h1 >>> 13;\n  h1 =\n    ((h1 & 0xffff) * 0xc2b2ae35 +\n      ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) &\n    0xffffffff;\n  h1 ^= h1 >>> 16;\n\n  return h1 >>> 0;\n};","import { Atom, Cell, isNoun } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { putIn, putBy } from \"./noun-std\";\n\n//  primitives\n\ntype Atomizable = number | string | Atom;\n\n// \"Do What I Mean\"\nfunction dwim(a: number): Atom;\nfunction dwim(a: string): Atom;\nfunction dwim(a: Atomizable, b: Atomizable): Cell<Atom, Atom>;\nfunction dwim(\n  a: Atomizable,\n  b: Atomizable,\n  c: Atomizable\n): Cell<Atom, Cell<Atom, Atom>>;\nfunction dwim(a: Atomizable, ...b: any[]): Cell<Atom, Cell<Noun, Noun>>;\nfunction dwim(...a: any[]): Cell<Noun, Noun>;\n// implementation\nfunction dwim(...args: any[]): Noun {\n  const n = args.length === 1 ? args[0] : args;\n  if (isNoun(n)) return n;\n  if (typeof n === \"number\") {\n    return Atom.fromInt(n);\n  } else if (typeof n === \"bigint\") {\n    return new Atom(n);\n  } else if (typeof n === \"string\") {\n    return Atom.fromCord(n);\n  } else if (Array.isArray(n)) {\n    if (n.length < 2) {\n      return dwim(n[0]);\n    }\n    const head = dwim(n[n.length - 2]);\n    const tail = dwim(n[n.length - 1]);\n    let cel = new Cell(head, tail);\n    for (var j = n.length - 3; j >= 0; --j) {\n      cel = new Cell(dwim(n[j]), cel);\n    }\n    return cel;\n  } else if (n === null) {\n    return Atom.zero;\n  }\n  //  objects, undefined, etc\n  console.error(\"what do you mean??\", typeof n, JSON.stringify(n));\n  throw new Error('dwim, but meaning unclear');\n}\n\n//  structures\n\nfunction list(args: any[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  return dwim([...args, Atom.zero]);\n}\n\nfunction set(args: any[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  let set: Noun = Atom.zero;\n  for (let arg of args) {\n    set = putIn(set, dwim(arg));\n  }\n  return set;\n}\n\nfunction map(args: {key: any, val: any}[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  let map: Noun = Atom.zero;\n  for (let arg of args) {\n    map = putBy(map, dwim(arg.key), dwim(arg.val));\n  }\n  return map;\n}\n\nconst dejs = {\n  nounify: dwim,\n  dwim,\n  list,\n  set,\n  map\n};\n\nexport { dejs, dwim };\n","import { murmurhash3_bi } from \"./murmur3\";\nimport { Atom, Cell } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { dwim } from \"./noun-dejs\";\n\n//\n//  mugs\n//\n\nexport function mug(arg: Noun): number {\n  return arg.mug();\n}\n\nexport function mum(syd: number, fal: number, key: bigint): number {\n  let i = 0;\n  while (i < 8) {\n    const haz = murmurhash3_bi(null, key, syd);\n    const ham = (haz >>> 31) ^ (haz & 0x7fffffff);\n    if (0 !== ham) return ham;\n    i++; syd++;\n  }\n  return fal;\n}\n\nexport function muk(syd: number, len: number, key: bigint): number {\n  return murmurhash3_bi(len, key, syd);\n};\n\n//\n//  ordering\n//\n\n//  +dor: depth order\nexport function dor(a: Noun, b: Noun): boolean {\n  //  ?:  =(a b)  &\n  if (a.equals(b)) return true;\n  //  ?.  ?=(@ a)\n  if (a.isCell()) {\n    //  ?:  ?=(@ b)  |\n    if (b.isAtom()) return false;\n    //  ?:  =(-.a -.b)\n    if (a.head.equals(b.head))\n      //  $(a +.a, b +.b)\n      return dor(a.tail, b.tail);\n    //  $(a -.a, b -.b)\n    return dor(a.head, b.head);\n  }\n  //  ?.  ?=(@ b)  &\n  if (b.isCell()) return true;\n  //  (lth a b)\n  return (a < b);\n}\n\n//  +gor: mug hash order, collisions fall back to +dor\nexport function gor(a: Noun, b: Noun): boolean {\n  //  =+  [c=(mug a) d=(mug b)]\n  const c = a.mug();\n  const d = b.mug();\n  //  ?:  =(c d)\n  if (c === d)\n    //  (dor a b)\n    return dor(a, b);\n  //  (lth c d)\n  return c < d;\n}\n\n//  +mor: double mug hash order, collisions fall back to +dor\nexport function mor(a: Noun, b: Noun): boolean {\n  //  =+  [c=(mug (mug a)) d=(mug (mug b))]\n  const c = Atom.fromInt(a.mug()).mug();\n  const d = Atom.fromInt(b.mug()).mug();\n  //  ?:  =(c d)\n  if (c === d)\n    //  (dor a b)\n    return dor(a, b);\n  //  (lth c d)\n  return c < d;\n}\n\n//\n//  data structures\n//\n\n//  isSet: check for set with >0 entries, ?=([* * *])\nexport function isSet(a: Noun): a is Cell<Noun, Cell<Noun, Noun>> {\n  return a.isCell() && a.tail.isCell();\n}\n\n//  +put:in: set insertion\nexport function putIn(a: Noun, b: Noun): Noun {\n  //  ?~  a\n  //    [b ~ ~]\n  if (a.equals(Atom.zero)) {\n    return dwim(b, null, null);\n  }\n  if (!isSet(a)) {\n    throw new Error('malformed set');\n  }\n  //  ?:  =(b n.a)\n  //    a\n  if (b.equals(a.head)) {\n    return a;\n  }\n  //  ?:  (gor b n.a)\n  if (gor(b, a.head)) {\n    //  =+  c=$(a l.a)\n    const c = putIn(a.tail.head, b);\n    //  ?>  ?=(^ c)\n    if (!isSet(c)) {\n      throw new Error('implementation error');\n    }\n    //  ?:  (mor n.a n.c)\n    //    a(l c)\n    if (mor(a.head, c.head)) {\n      return dwim(a.head, c, a.tail.tail);\n    }\n    //  c(r a(l r.c))\n    return dwim(c.head, c.tail.head, [a.head, c.tail.tail, a.tail.tail]);\n  }\n  //  =+  c=$(a r.a)\n  const c = putIn(a.tail.tail, b);\n  //  ?>  ?=(^ c)\n  if (!isSet(c)) {\n    throw new Error('implementation error');\n  }\n  //  ?:  (mor n.a n.c)\n  //    a(r c)\n  if (mor(a.head, c.head)) {\n    return dwim(a.head, a.tail.head, c);\n  }\n  //  c(l a(r l.c))\n  return dwim(c.head, [a.head, a.tail.head, c.tail.head], c.tail.tail);\n}\n\n//  isMap: check for map with >0 entries, ?=([[* *] * *])\nexport function isMap(a: Noun): a is Cell<Cell<Noun, Noun>, Cell<Noun, Noun>> {\n  return a.isCell() && a.head.isCell() && a.tail.isCell();\n}\n\n//  +put:by: map insertion\nexport function putBy(a: Noun, b: Noun, c: Noun): Noun {\n  //  ?~  a\n  //    [[b c] ~ ~]\n  if (a.equals(Atom.zero)) {\n    return dwim([b, c], null, null);\n  }\n  if (!isMap(a)) {\n    throw new Error('malformed map');\n  }\n  //  ?:  =(b p.n.a)\n  if (b.equals(a.head.head)) {\n    //  ?:  =(c q.n.a)\n    //    a\n    if (c.equals(a.head.tail)) {\n      return a;\n    }\n    //  a(n [b c])\n    return dwim([b, c], a.tail);\n  }\n  //  ?:  (gor b p.n.a)\n  if (gor(b, a.head.head)) {\n    //  =+  d=$(a l.a)\n    const d = putBy(a.tail.head, b, c);\n    //  ?>  ?=(^ d)\n    if (!isMap(d)) {\n      throw new Error('implementation error');\n    }\n    //  ?:  (mor p.n.a p.n.d)\n    //    a(l d)\n    if (mor(a.head.head, d.head.head)) {\n      return dwim(a.head, d, a.tail.tail);\n    }\n    //  d(r a(l r.d))\n    return dwim(d.head, d.tail.head, [a.head, d.tail.tail, a.tail.tail]);\n  }\n  //  =+  d=$(a r.a)\n  const d = putBy(a.tail.tail, b, c);\n  //  ?>  ?=(^ d)\n  if (!isMap(d)) {\n    throw new Error('implementation error');\n  }\n  //  ?:  (mor p.n.a p.n.d)\n  //    a(r d)\n  if (mor(a.head.head, d.head.head)) {\n    return dwim(a.head, a.tail.head, d);\n  }\n  //  d(l a(r l.d))\n  return dwim(d.head, [a.head, a.tail.head, d.tail.head], d.tail.tail);\n}\n","import {\n  bigIntFromStringWithRadix,\n  bigIntToByteArray,\n  bitLength,\n  testBit,\n} from \"./bigint\";\nimport { mum } from \"./noun-std\";\n\n// Helpers\n\nexport const fragCache: Record<string, (arg: Noun) => Noun> = {\n  \"0\": function (a: Noun) {\n    throw new Error(\"Bail\");\n  },\n  \"1\": function (a: Noun) {\n    return a;\n  },\n};\n\n// Classes\nclass Atom {\n  private _mug = 0;\n  public deep = false;\n  public static small: Atom[] = (Array.from(Array(256))).map((function (_, i: number) {\n    return new Atom(BigInt(i));\n  }));\n  public static zero = Atom.small[0];\n  public static one = Atom.small[1];\n  public static two = Atom.small[2];\n  public static three = Atom.small[3];\n  constructor(public readonly number: bigint) {}\n\n  // common methods with Cell\n  isAtom(): this is Atom             { return true; }\n  isCell(): this is Cell<Noun, Noun> { return false; }\n  pretty(out: string[], hasTail = false): void {\n    if (this.number < 65536n) out.push(this.number.toString(10));\n    else {\n      let tap: string[] = [],\n        isTa = true,\n        isTas = true,\n        bytes = bigIntToByteArray(this.number);\n      for (let i = bytes.length - 1; i >= 0; --i) {\n        const c = bytes[i];\n        if (isTa && (c < 32 || c > 127)) {\n          isTa = false;\n          isTas = false;\n          break;\n        } else if (\n          isTas &&\n          !((c > 47 && c < 58) || (c > 96 && c < 123) || c === 45)\n        )\n          isTas = false;\n        tap.push(String.fromCharCode(c));\n      }\n      if (isTas) {\n        out.push(\"%\");\n        out.push.apply(out, tap);\n      } else if (isTa) {\n        out.push(\"'\");\n        out.push.apply(out, tap);\n        out.push(\"'\");\n      } else {\n        out.push(\"0x\");\n        out.push(this.number.toString(16));\n      }\n    }\n  }\n  toString(): string {\n    const parts: string[] = [];\n    this.pretty(parts, false);\n    return parts.join(\"\");\n  }\n  equals(o: Noun): boolean {\n    return o instanceof Atom && o.number === this.number;\n  }\n  loob(): boolean {\n    if (Number(this.number) === 0) return true;\n    if (Number(this.number) === 1) return false;\n    else throw new Error(\"Bail\");\n  }\n  mug(): number {\n    if (this._mug === 0) this._mug = this.calculateMug();\n    return this._mug;\n  }\n  calculateMug(): number {\n    return mum(0xcafebabe, 0x7fff, this.number);\n  }\n  mugged(): boolean {\n    return this._mug !== 0;\n  }\n  at(a: Atom): Noun {\n    return Atom.fragmenter(a)(this);\n  }\n  // Atom specific methods\n  bump(): Atom {\n    return new Atom(this.number + 1n);\n  }\n  bytes() {\n    const bytes = bigIntToByteArray(this.number);\n    const r: number[] = [];\n    for (var i = bytes.length - 1; i >= 0; --i) {\n      r.push(bytes[i] & 0xff);\n    }\n    return r;\n  }\n  cap(): Atom {\n    if (Number(this.number) === 0) throw new Error(\"Bail\");\n    if (Number(this.number) === 1) throw new Error(\"Bail\");\n    else\n      return testBit(this.number, bitLength(this.number) - 2)\n        ? new Atom(3n)\n        : new Atom(2n);\n  }\n  mas(): Atom {\n    if (Number(this.number) === 0) throw new Error(\"Bail\");\n    if (Number(this.number) === 1) throw new Error(\"Bail\");\n    if (Number(this.number) === 2) return new Atom(1n);\n    if (Number(this.number) === 3) return new Atom(1n);\n    else {\n      const n = this.number;\n      const l = bitLength(n) - 2;\n      const addTop = BigInt(1 << l);\n      const mask = BigInt((1 << l) - 1);\n      return new Atom((n & mask) ^ addTop);\n    }\n  }\n  shortCode() {\n    return this.number.toString(36); // can we do more?\n  }\n  // Class Methods\n  static cordToString(c: Atom): string {\n    const bytes = c.bytes(),\n      chars: string[] = [];\n\n    for (let i = 0; i < bytes.length; ++i) {\n      chars.push(String.fromCharCode(bytes[i]));\n    }\n    return chars.join(\"\");\n  };\n  // cached tree addressing function constructor\n  static fragmenter(a: Atom): (arg: Noun) => Noun {\n    const s = a.shortCode();\n    if (fragCache.hasOwnProperty(s)) {\n      return fragCache[s];\n    } else {\n      for (var parts = [\"a\"]; !Atom.one.equals(a); a = a.mas()) {\n        parts.push(Atom.two.equals(a.cap()) ? \"head\" : \"tail\");\n      }\n      return (fragCache[s] = new Function(\n        \"a\",\n        \"return \" + parts.join(\".\") + \";\"\n      ) as (arg: Noun) => Noun);\n    }\n  };\n  // Atom builders\n  static fromString(str: string, radix: number = 10): Atom {\n    const num = bigIntFromStringWithRadix(str, radix);\n    return new Atom(num);\n  }\n  static fromInt(n: number): Atom {\n    if (n < 256) return Atom.small[n];\n    else return new Atom(BigInt(n));\n  }\n  static fromCord(str: string): Atom {\n    if (str.length === 0) return Atom.zero;\n    let i,\n      j,\n      octs = Array(str.length);\n    for (i = 0, j = octs.length - 1; i < octs.length; ++i, --j) {\n      const charByte = (str.charCodeAt(i) & 0xff).toString(16);\n      octs[j] = charByte.length === 1 ? \"0\" + charByte : charByte;\n    }\n    if (str.length > 4)  return Atom.fromString(octs.join(''), 16);\n    else                 return new Atom(BigInt(parseInt(octs.join(\"\"), 16)));\n  }\n}\nclass Cell<TH extends Noun, TT extends Noun> {\n  private _mug = 0;\n  constructor(public readonly head: TH, public readonly tail: TT, public deep = true) {}\n  // common methods\n  isAtom(): this is Atom         { return false; }\n  isCell(): this is Cell<TH, TT> { return true; }\n  pretty(out: string[], hasTail: boolean): void {\n    if (!hasTail) out.push(\"[\");\n    this.head.pretty(out, false);\n    out.push(\" \");\n    this.tail.pretty(out, true);\n    if (!hasTail) out.push(\"]\");\n  }\n\n  toString(): string {\n    const parts: string[] = [];\n    this.pretty(parts, false);\n    return parts.join(\"\");\n  }\n  mug(): number {\n    if (this._mug === 0) this._mug = this.calculateMug();\n    return this._mug;\n  }\n  calculateMug(): number {\n    return mum(0xdeadbeef, 0xfffe,\n               ((BigInt(this.tail.mug()) << 32n) | BigInt(this.head.mug())));\n  }\n  mugged(): boolean {\n    return this._mug !== 0;\n  }\n  equals(o: Noun): boolean {\n    if (o instanceof Cell) return this.unify(o);\n    else return false;\n  }\n  bump(): void {\n    throw new Error(\"Bail\");\n  }\n  loob(): boolean {\n    throw new Error(\"Bail\");\n  }\n  at(a: Atom): Noun {\n    return Atom.fragmenter(a)(this);\n  }\n  // Cell specific\n  unify(o: Cell<Noun, Noun>): boolean {\n    if (this === o) return true;\n    if (o.mugged()) {\n      if (this.mugged()) {\n        if (this.mug() != o.mug()) return false;\n      } else return o.unify(this);\n    }\n    if (this.head.equals(o.head)) {\n      // @ts-ignore, we are intentionally de-duplicating\n      o.head = this.head;\n      if (this.tail.equals(o.tail)) {\n        o._mug = this._mug;\n        // @ts-ignore, we are intentionally de-duplicating\n        o.tail = this.tail;\n        return true;\n      }\n    }\n    return false;\n  }\n}\ntype Noun = Atom | Cell<Noun, Noun>;\n\nexport function isAtom(a: any): a is Atom {\n  return a instanceof Atom;\n}\nexport function isCell(a: any): a is Cell<Noun, Noun> {\n  return a instanceof Cell;\n}\nexport function isNoun(a: any): a is Noun {\n  return isAtom(a) || isCell(a);\n}\n\nexport { Atom, Cell, Noun };\n","import { Atom, Cell } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { bitLength } from \"./bigint\";\n\ntype Json = null | boolean | number | string | Json[] | { [key: string]: Json };\nexport type EnjsFunction = (n: Noun) => Json;\ntype frondOpt = { tag: string; get: EnjsFunction };\n\nconst frond = function (opts: frondOpt[]): EnjsFunction {\n  return function (noun) {\n    if (!(noun instanceof Cell && noun.head instanceof Atom)) {\n      throw new Error(\"frond: noun not cell with tag head\");\n    }\n    const tag = Atom.cordToString(noun.head);\n    for (let i = 0; i < opts.length; i++) {\n      if (tag === opts[i].tag) {\n        return { [tag]: opts[i].get(noun.tail) };\n      }\n    }\n    throw new Error(\"frond: unknown tag\" + tag);\n  };\n};\n\nconst tuple = function(funs: EnjsFunction[]): EnjsFunction {\n  return function (noun) {\n    let i = 0;\n    let o = [];\n    while (i < funs.length - 1) {\n      if (noun.isAtom()) {\n        throw new Error(\"tuple: noun too shallow\");\n      }\n      o.push(funs[i](noun.head));\n      noun = noun.tail;\n      i++;\n    }\n    o.push(funs[i](noun));\n    return o;\n  }\n}\n\ntype PairCell = { nom: string; get: EnjsFunction };\nconst pairs = function (cels: PairCell[]): EnjsFunction {\n  return function (noun) {\n    let i = 0;\n    let o: Record<string, Json> = {};\n    while (i < cels.length - 1) {\n      if (!(noun instanceof Cell)) {\n        throw new Error(\"pairs: noun too shallow\");\n      }\n      o[cels[i].nom] = cels[i].get(noun.head);\n      noun = noun.tail;\n      i++;\n    }\n    o[cels[i].nom] = cels[i].get(noun);\n    return o;\n  };\n};\nconst pair = function (\n  na: string,\n  ga: EnjsFunction,\n  nb: string,\n  gb: EnjsFunction\n): EnjsFunction {\n  return pairs([\n    { nom: na, get: ga },\n    { nom: nb, get: gb },\n  ]);\n};\n\nconst bucwut = function (opts: EnjsFunction[]): EnjsFunction {\n  return function (noun) {\n    for (let i = 0; i < opts.length; i++) {\n      try {\n        const res = opts[i](noun);\n        return res;\n      } catch (e) {\n        continue;\n      }\n    }\n    throw new Error(\"bucwut: no matches\");\n  };\n};\n\n//  buccen: like frond, but without the wrapper object\nconst buccen = function (opts: frondOpt[]): EnjsFunction {\n  return function (noun) {\n    if (!(noun instanceof Cell && noun.head instanceof Atom)) {\n      throw new Error(\"buccen: noun not cell with tag head\");\n    }\n    const tag = Atom.cordToString(noun.head);\n    for (let i = 0; i < opts.length; i++) {\n      if (tag === opts[i].tag) {\n        return opts[i].get(noun.tail);\n      }\n    }\n    throw new Error(\"buccen: unknown tag: \" + tag);\n  };\n};\n\n//  (list *) -> any[]\nconst array = function (item: EnjsFunction): (n: Noun) => Json[] {\n  return function (noun) {\n    let a: Json[] = [];\n    while (noun instanceof Cell) {\n      a.push(item(noun.head));\n      noun = noun.tail;\n    }\n    return a;\n  };\n};\n\n//  (tree *) -> any[]\nconst tree = function (item: EnjsFunction): (n: Noun) => Json[] {\n  return function (noun) {\n    if (noun instanceof Cell) {\n      if (!(noun.tail instanceof Cell)) {\n        throw new Error(\"tree: malformed\");\n      }\n      return [\n        ...tree(item)(noun.tail.tail),\n        item(noun.head),\n        ...tree(item)(noun.tail.head),\n      ];\n    }\n    return [];\n  };\n};\n\nconst cord = function (noun: Noun): string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(`cord: noun not atom ${noun.toString()}`);\n  }\n  return Atom.cordToString(noun);\n};\n\nconst tape = function (noun: Noun): string {\n  return (array(((n: Noun) => {\n    if (n.isCell()) {\n      throw new Error(\"tape: malformed\");\n    }\n    return Atom.cordToString(n);\n  }))(noun)).join();\n}\n\nconst numb = function (noun: Noun): number | string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numb: noun not atom\");\n  }\n  if (bitLength(noun.number) <= 32) {\n    return Number(noun.number);\n  } else {\n    return noun.number.toString();\n  }\n};\n\nconst numb32 = function (noun: Noun): number {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numb32: noun not atom\");\n  }\n  if (bitLength(noun.number) > 32) {\n    throw new Error(\"numb32: number too big\");\n  }\n  return Number(noun.number);\n}\n\nconst numbString = function (noun: Noun): string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numbString: noun not atom\");\n  }\n  return noun.number.toString();\n}\n\nconst loob = function (noun: Noun): boolean {\n  return noun.loob();\n};\n\nconst nill = function (noun: Noun): null {\n  if (!(noun instanceof Atom && noun.number === 0n)) {\n    throw new Error(\"nill: not null\");\n  }\n  return null;\n};\n\nconst path = array(cord);\n\nconst enjs = {\n  frond,\n  tuple,\n  pairs,\n  pair,\n  array,\n  loob,\n  tree,\n  cord,\n  tape,\n  numb,\n  numb32,\n  numbString,\n  path,\n  buccen,\n  bucwut,\n  nill,\n};\n\nexport { enjs };\n","import { bigIntFromStringWithRadix, bitLength } from \"./bigint\";\nimport { Atom, Cell, Noun } from \"./noun\";\n//TODO  could probably increase performance by not converting bigint -> number\n\n// a is native, returns native\nfunction met(a: number, b: Atom): number {\n  var bits = bitLength(b.number),\n    full = bits >>> a,\n    part = full << a !== bits;\n\n  return part ? full + 1 : full;\n}\n\nfunction gth(a: Atom, b: Atom) {\n  return a.number > b.number;\n}\n\nfunction lth(a: Atom, b: Atom) {\n  return a.number < b.number;\n}\n\nfunction gte(a: Atom, b: Atom) {\n  return a.number >= b.number;\n}\n\nfunction lte(a: Atom, b: Atom) {\n  return a.number <= b.number;\n}\n\nfunction add(a: Atom, b: Atom) {\n  return new Atom(a.number + b.number);\n}\n\nfunction sub(a: Atom, b: Atom) {\n  var r = a.number - b.number;\n  if (r < 0) {\n    throw new Error(\"subtract underflow\");\n  } else {\n    return new Atom(r);\n  }\n}\nfunction dec(a: Atom) {\n  return sub(a, Atom.one);\n}\n\nfunction bex(a: Atom) {\n  const b = 1n << a.number;\n  return new Atom(b);\n}\n\nfunction lsh(a: Atom, b: Atom, c: Atom) {\n  var bits = Number(b.number << a.number);\n  return new Atom(c.number << BigInt(bits));\n}\n\nfunction rsh(a: Atom, b: Atom, c: Atom) {\n  var bits = b.number << a.number;\n  return new Atom(c.number >> BigInt(bits));\n}\n\n// to/from little-endian 32-bit word array, as used in vere\n// TODO: efficiency is horrible here, but can be improved using internals\nfunction bytesToWords(bytes: number[]): number[] {\n  var len = bytes.length,\n    trim = len % 4;\n  let i: number, b: number, w: number;\n\n  if (trim > 0) {\n    len += 4 - trim;\n    for (i = 0; i < trim; ++i) {\n      bytes.push(0);\n    }\n  }\n\n  const size = len >> 2;\n  const words: number[] = new Array(size);\n  for (i = 0, b = 0; i < size; ++i) {\n    w = (bytes[b++] << 0) & 0x000000ff;\n    w ^= (bytes[b++] << 8) & 0x0000ff00;\n    w ^= (bytes[b++] << 16) & 0x00ff0000;\n    w ^= (bytes[b++] << 24) & 0xff000000;\n    words[i] = w;\n  }\n  return words;\n}\n\nfunction wordsToBytes(words: number[]): number[] {\n  const buf: number[] = [];\n  let w: number, i: number, b: number;\n  for (i = 0, b = 0; i < words.length; ++i) {\n    w = words[i];\n    buf[b++] = 0xff & (w & 0x000000ff);\n    buf[b++] = 0xff & ((w & 0x0000ff00) >>> 8);\n    buf[b++] = 0xff & ((w & 0x00ff0000) >>> 16);\n    buf[b++] = 0xff & ((w & 0xff000000) >>> 24);\n  }\n  // or here. one of the 'get rid of extra zeros' functions.\n  while (buf[--b] === 0) {\n    buf.pop();\n  }\n  return buf;\n}\n\nfunction bytesToAtom(bytes: number[]): Atom {\n  let byt: number,\n    parts: string[] = [];\n  for (var i = bytes.length - 1; i >= 0; --i) {\n    byt = bytes[i] & 0xff;\n    parts.push(byt < 16 ? \"0\" + byt.toString(16) : byt.toString(16));\n  }\n  const num = bigIntFromStringWithRadix(parts.join(\"\"), 16);\n  return new Atom(num);\n}\n\nfunction atomToBytes(atom: Atom) {\n  return atom.bytes();\n}\n\nfunction atomToWords(atom: Atom): number[] {\n  return bytesToWords(atomToBytes(atom));\n}\n\nfunction wordsToAtom(words: number[]): Atom {\n  return bytesToAtom(wordsToBytes(words));\n}\n// 0x3930b13c0dedeccf01 atom\n\nvar malt = wordsToAtom;\n\n// XX: INTERNAL\nfunction slaq(bloq: number, len: number): number[] {\n  return new Array(((len << bloq) + 31) >>> 5);\n}\n\n// src is atom, all others native\nfunction chop(\n  met: number,\n  fum: number,\n  wid: number,\n  tou: number,\n  dst: number[],\n  src: Atom\n): void {\n  var buf = atomToWords(src),\n    len = buf.length,\n    i: number,\n    j: number,\n    san: number,\n    mek: number,\n    baf: number,\n    bat: number,\n    hut: number,\n    san: number,\n    wuf: number,\n    wut: number,\n    waf: number,\n    raf: number,\n    wat: number,\n    rat: number,\n    hop: number;\n\n  if (met < 5) {\n    san = 1 << met;\n    mek = (1 << san) - 1;\n    baf = fum << met;\n    bat = tou << met;\n\n    for (i = 0; i < wid; ++i) {\n      waf = baf >>> 5;\n      raf = baf & 31;\n      wat = bat >>> 5;\n      rat = bat & 31;\n      hop = waf >= len ? 0 : buf[waf];\n      hop = (hop >>> raf) & mek;\n      dst[wat] ^= hop << rat;\n      baf += san;\n      bat += san;\n    }\n  } else {\n    hut = met - 5;\n    san = 1 << hut;\n\n    for (i = 0; i < wid; ++i) {\n      wuf = (fum + i) << hut;\n      wut = (tou + i) << hut;\n\n      for (j = 0; j < san; ++j) {\n        dst[wut + j] ^= wuf + j >= len ? 0 : buf[wuf + j];\n      }\n    }\n  }\n}\n// bloq, start, length, atom\nfunction cut(a: Atom, b: Atom, c: Atom, d: Atom): Atom {\n  //  this is the common case for cue operations, important to be fast,\n  //  we can just use native operatios for it\n  if (a.number === 0n) {\n    return new Atom((d.number >> b.number) & ((1n << c.number) - 1n));\n  }\n\n  var ai = Number(a.number),\n    bi = Number(b.number),\n    ci = Number(c.number);\n\n  var len = met(ai, d);\n  if (Atom.zero.equals(c) || bi >= len) {\n    return Atom.zero;\n  }\n  if (bi + ci > len) {\n    ci = len - Number(b.number); // doublecheck\n  }\n  if (0 === bi && ci === len) {\n    return d;\n  } else {\n    var sal = slaq(ai, ci);\n    chop(ai, bi, ci, 0, sal, d);\n    return malt(sal);\n  }\n}\n\nconst maxCat = Atom.fromInt(0xffffffff);\nconst catBits = Atom.fromInt(32);\n\nfunction end(a: Atom, b: Atom, c: Atom): Atom {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else if (gth(b, maxCat)) {\n    return c;\n  } else {\n    var ai = Number(a.number),\n      bi = Number(b.number),\n      len = met(ai, c);\n\n    if (0 === bi) {\n      return Atom.zero;\n    } else if (bi >= len) {\n      return c;\n    } else {\n      var sal = slaq(ai, bi);\n      chop(ai, 0, bi, 0, sal, c);\n      return malt(sal);\n    }\n  }\n}\n\nfunction mix(a: Atom, b: Atom) {\n  return new Atom(a.number ^ b.number);\n}\n\n// doublecheck everything\nfunction cat(a: Atom, b: Atom, c: Atom): Atom {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else {\n    var ai = Number(a.number),\n      lew = met(ai, b),\n      ler = met(ai, c),\n      all = lew + ler;\n    if (0 === all) {\n      return Atom.zero;\n    } else {\n      const sal = slaq(ai, all);\n      chop(ai, 0, lew, 0, sal, b);\n      chop(ai, 0, ler, lew, sal, c);\n      return malt(sal);\n    }\n  }\n}\n\nfunction can(a: Atom, b: Noun) {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else {\n    let ai = Number(a.number),\n      tot = 0,\n      cab = b,\n      pos,\n      i_cab,\n      pi_cab,\n      qi_cab;\n\n    // measure\n    while (true) {\n      if (Atom.zero.equals(cab)) break;\n      if (cab instanceof Atom) throw new Error(\"Fail\");\n      i_cab = cab.head;\n      if (i_cab instanceof Atom) throw new Error(\"Fail\");\n      else if (i_cab instanceof Cell) {\n        pi_cab = i_cab.head;\n        qi_cab = i_cab.tail;\n      }\n      if (pi_cab instanceof Atom && gth(pi_cab, maxCat))\n        throw new Error(\"Fail\");\n      if (qi_cab instanceof Cell) throw new Error(\"Fail\");\n      if (pi_cab instanceof Atom) tot += Number(pi_cab.number);\n      if (cab instanceof Cell) cab = cab.tail;\n    }\n    if (0 === tot) return Atom.zero;\n    var sal = slaq(ai, tot);\n\n    // chop the list atoms in\n    cab = b;\n    pos = 0;\n    while (!Atom.zero.equals(cab)) {\n      if (cab instanceof Cell) i_cab = cab.head;\n      if (i_cab instanceof Cell) {\n        if (i_cab.head instanceof Atom) pi_cab = Number(i_cab.head.number);\n        qi_cab = i_cab.tail;\n        chop(ai, 0, pi_cab as number, pos, sal, qi_cab as Atom);\n        pos += pi_cab as number;\n        if (cab instanceof Cell) cab = cab.tail;\n      }\n    }\n    return malt(sal);\n  }\n}\n\nexport default {\n  met,\n  cut,\n  add,\n  sub,\n  dec,\n  gth,\n  lth,\n  gte,\n  lte,\n  bex,\n  lsh,\n  rsh,\n  end,\n  mix,\n  cat,\n  can,\n  bytesToWords,\n  wordsToBytes,\n  bytesToAtom,\n  atomToBytes,\n  atomToWords,\n  wordsToAtom,\n};\n","import { enjs } from \"./noun-enjs\";\nimport { dejs } from \"./noun-dejs\";\nimport { Atom, Noun } from \"./noun\";\nimport bits from \"./bits\";\nconst dwim = dejs.dwim;\n\nexport type FaceMask = string | FaceMask[];\nexport type FaceAxes = { [key: string]: Atom };\nconst mask = ( face: FaceMask,\n               axis: Atom = Atom.one,\n               axes: FaceAxes = {}\n             ): FaceAxes => {\n  if (typeof face === 'string') {\n    if (face === '') return axes;\n    axes[face] = axis;\n    return axes;\n  } else {\n    if (face.length === 0) return axes;\n    if (face.length === 1) {\n      return mask(face[0], axis, axes);\n    } else {\n      const left = bits.lsh(Atom.zero, Atom.one, axis);\n      axes = mask(face[0], left, axes);\n      return mask(face.slice(1), left.bump(), axes);\n    }\n  }\n}\nconst grab = (axes: FaceAxes, noun: Noun, face: string): Noun => {\n  return noun.at(axes[face]);\n}\n\nconst experimental = {\n  mask, grab\n}\n\nexport { enjs, dejs, dwim, experimental };\n","import { Atom, Cell, Noun } from \"./noun\";\n\nfunction flop(a: Noun): Noun {\n  var b: Noun = Atom.zero;\n\n  while (true) {\n    if (Atom.zero.equals(a)) {\n      return b;\n    } else if (a instanceof Atom) {\n      throw new Error(\"Bail\");\n    } else {\n      b = new Cell(a.head, b);\n      a = a.tail;\n    }\n  }\n}\n\nfunction forEach(n: Noun, f: Function): void {\n  while (true) {\n    if (Atom.zero.equals(n)) {\n      return;\n    } else if (n instanceof Atom) {\n      throw new Error(\"Bail\");\n    } else {\n      f(n.head);\n      n = n.tail;\n    }\n  }\n}\n\nexport default {\n  flop,\n  forEach,\n};\n","import { Noun } from \"./noun\";\n\nabstract class Slot {\n  abstract insert(key: Noun, val: any, lef: number, rem: number): Slot;\n  abstract get(key: Noun, lef: number, rem: number): any;\n}\nclass Node extends Slot {\n  slots: any[];\n  constructor() {\n    super();\n    this.slots = Array(32);\n  }\n\n  insert(key: Noun, val: any, lef: number, rem: number): Node {\n    lef -= 5;\n    const inx = rem >>> lef;\n    rem &= (1 << lef) - 1;\n    this.slots[inx] =\n      undefined === this.slots[inx]\n        ? new Single(key, val)\n        : this.slots[inx].insert(key, val, lef, rem);\n    return this;\n  }\n  get(key: Noun, lef: number, rem: number) {\n    lef -= 5;\n    const inx = rem >>> lef;\n    rem &= (1 << lef) - 1;\n    const sot = this.slots[inx];\n\n    return undefined === sot ? undefined : sot.get(key, lef, rem);\n  }\n}\nclass Bucket extends Slot {\n  singles: Single[];\n  constructor() {\n    super();\n    this.singles = [];\n  }\n  insert(key: Noun, val: any, lef: number, rem: number): Bucket {\n    const a = this.singles;\n    for (var i = 0; i < a.length; ++i) {\n      const s = a[i];\n      if (s.key.equals(key)) {\n        s.val = val;\n        return this;\n      }\n    }\n    a.push(new Single(key, val));\n    return this;\n  }\n  get(key: Noun) {\n    const a = this.singles;\n    for (var i = 0; i < a.length; ++i) {\n      const s = a[i];\n      if (s.key.equals(key)) {\n        return s.val;\n      }\n    }\n  }\n}\nclass Single extends Slot {\n  key: Noun;\n  val: any;\n  constructor(key: Noun, val: any) {\n    super();\n    this.key = key;\n    this.val = val;\n  }\n  insert(key: Noun, val: any, lef: number, rem: number): Slot {\n    if (this.key.equals(key)) {\n      this.val = val;\n      return this;\n    } else {\n      const rom = this.key.mug() & ((1 << lef) - 1);\n      const n = lef > 0 ? new Node() : new Bucket();\n      n.insert(this.key, this.val, lef, rom);\n      n.insert(key, val, lef, rem);\n      return n;\n    }\n  }\n  get(key: Noun) {\n    if (this.key.equals(key)) return this.val;\n  }\n}\nclass NounMap {\n  slots: any[];\n  constructor() {\n    this.slots = Array(64);\n  }\n  insert(key: Noun, val: Noun): void {\n    const m = key.mug();\n    const inx = m >>> 25;\n    const sot = this.slots;\n    if (sot[inx] === undefined) sot[inx] = new Single(key, val);\n    else {\n      var rem = m & ((1 << 25) - 1);\n      sot[inx] = sot[inx].insert(key, val, 25, rem);\n    }\n  }\n  get(key: Noun) {\n    const m = key.mug();\n    const inx = m >>> 25;\n    const sot = this.slots[inx];\n    if (undefined === sot) {\n      return undefined;\n    } else {\n      var rem = m & ((1 << 25) - 1);\n      return sot.get(key, 25, rem);\n    }\n  }\n}\n\nexport { NounMap };\n","import { Atom, Cell, Noun } from \"./noun\";\nimport { dwim } from \"./noun-helpers\";\nimport bits from \"./bits\";\nimport list from \"./list\";\nimport { NounMap } from \"./hamt\";\nimport { bigIntFromStringWithRadix, bigIntToByteArray } from \"./bigint\";\n\nfunction bytesToBigint(bytes: number[]): bigint {\n  if (bytes.length === 1) return BigInt(bytes[0]);\n  let byt: number,\n    parts: string[] = [];\n  for (var i = bytes.length - 1; i >= 0; --i) {\n    byt = bytes[i] & 0xff;\n    parts.push(byt.toString(16).padStart(2, '0'));\n  }\n  const num = bigIntFromStringWithRadix(parts.join(\"\"), 16);\n  return num;\n}\n\nfunction bigintToDataView(a: bigint): DataView {\n  return new DataView((new Uint8Array(bigIntToByteArray(a).reverse())).buffer);\n}\n\n//  cue\n//NOTE  we operate primarily on a DataView (backed by a byte buffer), because\n//      that's way faster for big jams than the naive bigint bits operations.\n\nfunction bi_cut(b: bigint, c: bigint, d: bigint) {\n  return dv_cut(Number(b), Number(c), bigintToDataView(d));\n}\n\nfunction dv_bit(b: number, d: DataView): number {\n  const byte = Math.floor(b / 8);\n  return ((d.getUint8(byte)) >> (b % 8)) & 1;\n}\n\nfunction dv_bitLength(d: DataView): number {\n  const l = d.byteLength - 1;\n  if (l > (2**49)) throw new Error('bail: oversized byte buffer'); //REVIEW\n  return (l * 8) + d.getUint8(l).toString(2).length;\n}\n\nfunction dv_cut(b: number, c: number, d: DataView): bigint {\n  if (c === 1) return dv_bit(b, d) ? 1n : 0n;\n  const offset = b % 8;\n  if (offset === 0) return dv_cut_at_bytes(b, c, d);  //TODO  might not matter\n  const out = [];\n  let curByte = Math.floor(b / 8);\n\n  //  for reading whole bytes, read from both left and right according to offset\n  const bitsFromOne = 8 - offset;\n  const bitsFromTwo = offset;\n  const twoMask = 0xff >> (8 - bitsFromTwo);\n  while (c >= 8) {\n    const one = d.getUint8(curByte);\n    const two = d.getUint8(curByte + 1);\n\n    const left = (two & twoMask) << bitsFromOne;\n    const right = one >> bitsFromTwo;\n\n    out.push(left | right);\n\n    curByte++;\n    c -= 8;\n  }\n\n  //  for the last <8 bits, read them carefully\n  if (c > 0n) {\n    const bitsFromOne = Math.min(c, 8 - offset);\n    const bitsFromTwo = c - bitsFromOne;\n    const oneMask = (0xff >> (8 - bitsFromOne)) << offset;\n    const twoMask = 0xff >> (8 - bitsFromTwo);\n\n    const one = d.getUint8(curByte);\n    const two = (curByte + 1 >= d.byteLength) ? 0 : d.getUint8(curByte + 1);\n\n    const left = (bitsFromTwo === 0) ? 0 : ((two & twoMask) << bitsFromOne);\n    const right = (one & oneMask) >> offset;\n\n    out.push(left | right);\n  }\n\n  return bytesToBigint(out);\n}\n\nfunction dv_cut_at_bytes(b: number, c: number, d: DataView): bigint {\n  if ((b % 8) !== 0) throw new Error('non-byte-aligned read ' + b);\n  let curByte = Math.floor(b / 8);\n  const out = [];\n  //  we can just grab bytes directly\n  while (c >= 8) {\n    out.push(d.getUint8(curByte));\n    curByte++;\n    c -= 8;\n  }\n  //  only for the last one may we need to mask out bits beyond read range\n  if (c > 0n) {\n    out.push(d.getUint8(curByte) & ((0xff >> (8 - c))));\n  }\n  return bytesToBigint(out);\n}\n\nfunction rub(a: number, v: DataView, l: number): { head: number, tail: Atom } {\n  var c, d, e, w, x, y, z, p, q, m;\n\n  m = a + l;\n  x = a;\n\n  while (0 === dv_bit(x, v)) {\n    y = x + 1;\n\n    //  Sanity check: crash if decoding more bits than available\n    if (x > m) throw new Error('bail: rubbing past end');\n\n    x = y;\n  }\n\n  if (a === x) return { head: 1, tail: Atom.zero };\n\n  c = x - a;\n  d = x + 1;\n\n  x = c - 1;\n  if (x > 52) throw new Error('bail: rubbing oversized pointer (>52 bits)');\n\n  y = 2 ** x; // bex(x);\n  z = Number(dv_cut(d, x, v));\n\n  e = y + z;\n  w = c + c;\n  y = w + e;\n  z = d + x;\n\n  p = w + e;\n  q = dv_cut(z, e, v);\n\n  return { head: p, tail: new Atom(q) };\n}\n\nfunction insert(m: { [key: number]: Noun }, k: number, n: Noun) {\n  return m[k] = n;\n}\n\nfunction get(m: { [key: number]: Noun }, k: number) {\n  return m[k];\n}\n\nfunction cue_in(m: { [key: number]: Noun }, vv: DataView, l: number, b: number): { head: number, tail: Noun } {\n  let head: number;\n  let tailhead: Noun;\n\n  if (0 === dv_bit(b, vv)) {\n    const x = 1 + b;\n    const c = rub(x, vv, l);\n    head = c.head + 1;\n    tailhead = c.tail;\n    insert(m, b, tailhead);\n  } else {\n    let b2 = 2 + b;\n    let b1 = 1 + b;\n\n    if (0 === dv_bit(b1, vv)) {\n      const u = cue_in(m, vv, l, b2);\n      const x = u.head + b2;\n      const v = cue_in(m, vv, l, x);\n      const y = u.head + v.head;\n      head = 2 + y;\n      tailhead = new Cell(u.tail, v.tail);\n      insert(m, b, tailhead);\n    } else {\n      const d = rub(b2, vv, l);\n      const dd = get(m, Number(d.tail.number));\n      if (undefined === dd) throw new Error(\"Bail\");\n      head = 2 + d.head;\n      tailhead = dd;\n    }\n  }\n  return { head: head, tail: tailhead };\n}\n\nfunction cue(a: Atom): Noun {\n  return cue_bytes(bigintToDataView(a.number));\n}\nfunction cue_bytes(v: DataView): Noun {\n  return cue_in({}, v, dv_bitLength(v), 0).tail;\n}\n\n//  jam\n\nfunction mat(a: Atom): Cell<Atom, Atom> {\n  if (Atom.zero.equals(a)) {\n    return dwim(1, 1);\n  } else {\n    const b = dwim(bits.met(0, a)),\n      c = dwim(bits.met(0, b)),\n      u = bits.dec(c),\n      v = bits.add(c, c),\n      x = bits.end(Atom.zero, u, b),\n      w = bits.bex(c),\n      y = bits.lsh(Atom.zero, u, a),\n      z = bits.mix(x, y),\n      p = bits.add(v, b),\n      q = bits.cat(Atom.zero, w, z);\n    return dwim(p, q);\n  }\n}\nfunction _jam_in_pair(\n  m: NounMap,\n  h_a: Noun,\n  t_a: Noun,\n  b: Atom,\n  l: Noun\n): Cell<Atom, Cell<Atom, Atom>> {\n  var w = dwim([2, 1], l),\n    x = bits.add(Atom.two, b),\n    d = _jam_in(m, h_a, x, w),\n    y = bits.add(x, d.head),\n    e = _jam_in(m, t_a, y, d.tail.head),\n    z = bits.add(d.head, e.head);\n  return dwim(bits.add(Atom.two, z), e.tail.head, Atom.zero);\n}\nfunction _jam_in_ptr(u_c: Atom, l: Noun): Cell<Atom, Cell<Atom, Noun>> {\n  var d = mat(u_c),\n    x = bits.lsh(Atom.zero, Atom.two, d.tail),\n    y = bits.add(Atom.two, d.head);\n\n  return dwim(y, [[y, bits.mix(Atom.three, x)], l], Atom.zero) as Cell<\n    Atom,\n    Cell<Atom, Noun>\n  >;\n}\n\nfunction _jam_in_flat(a: Atom, l: Noun): Cell<Atom, Cell<Atom, Noun>> {\n  var d = mat(a),\n    x = bits.add(Atom.one, d.head);\n\n  return dwim(\n    x,\n    [[x, bits.lsh(Atom.zero, Atom.one, d.tail)], l],\n    Atom.zero\n  ) as Cell<Atom, Cell<Atom, Noun>>;\n}\n\nfunction _jam_in(\n  m: NounMap,\n  a: Noun,\n  b: Atom,\n  l: Noun\n): Cell<Atom, Cell<Atom, Noun>> {\n  const c = m.get(a);\n  if (undefined == c) {\n    m.insert(a, b);\n    return a instanceof Cell\n      ? _jam_in_pair(m, a.head, a.tail, b, l)\n      : _jam_in_flat(a, l);\n  } else if (a instanceof Atom && bits.met(0, a) <= bits.met(0, c)) {\n    return _jam_in_flat(a, l);\n  } else {\n    return _jam_in_ptr(c, l);\n  }\n}\n\nfunction jam(n: Noun): Atom {\n  const x = _jam_in(new NounMap(), n, Atom.zero, Atom.zero),\n    q = list.flop(x.tail.head);\n  return bits.can(Atom.zero, q);\n}\nexport { cue, jam, mat,\n         cue_bytes, bigintToDataView,\n         bi_cut };\n"],"names":["bigIntToByteArray","bigInt","hexString","toString","paddedHexString","length","arrayLength","int8Array","Uint8Array","i","hexSubstring","slice","signedInt","parseInt","blcCoeff","blcBigCoeff","blc","blcNext","bitLength","bigIntValue","k","push","BigInt","Math","clz32","Number","a","b","testBit","index","bigIntFromStringWithRadix","number","radix","result","base","digit","charAt","isNaN","Error","murmurhash3_bi","len","key","seed","remainder","bytes","h1","h1b","c1","c2","k1","yek","fil","nek","set","reverse","dwim","_len","arguments","args","Array","_key","n","isNoun","Atom","fromInt","fromCord","isArray","head","tail","cel","Cell","j","zero","console","error","JSON","stringify","list","arg","putIn","map","putBy","val","dejs","nounify","mum","syd","fal","haz","ham","dor","equals","isCell","isAtom","gor","c","mug","d","mor","isSet","isMap","fragCache","constructor","_mug","deep","pretty","out","hasTail","tap","isTa","isTas","String","fromCharCode","apply","parts","join","o","loob","calculateMug","mugged","at","fragmenter","bump","r","cap","mas","l","addTop","mask","shortCode","cordToString","chars","s","hasOwnProperty","one","two","Function","fromString","str","num","small","octs","charByte","charCodeAt","from","_","three","unify","frond","opts","noun","tag","get","tuple","funs","pairs","cels","nom","pair","na","ga","nb","gb","bucwut","res","e","buccen","array","item","tree","cord","tape","numb","numb32","numbString","nill","path","enjs","met","bits","full","part","gth","lth","gte","lte","add","sub","dec","bex","lsh","rsh","bytesToWords","trim","w","size","words","wordsToBytes","buf","pop","bytesToAtom","byt","atomToBytes","atom","atomToWords","wordsToAtom","malt","slaq","bloq","chop","fum","wid","tou","dst","src","san","mek","baf","bat","hut","wuf","wut","waf","raf","wat","rat","hop","cut","ai","bi","ci","sal","maxCat","catBits","end","mix","cat","lew","ler","all","can","tot","cab","pos","i_cab","pi_cab","qi_cab","face","axis","axes","left","grab","experimental","flop","forEach","f","Slot","Node","slots","insert","lef","rem","inx","undefined","Single","sot","Bucket","singles","rom","NounMap","m","bytesToBigint","padStart","bigintToDataView","DataView","buffer","bi_cut","dv_cut","dv_bit","byte","floor","getUint8","dv_bitLength","byteLength","offset","dv_cut_at_bytes","curByte","bitsFromOne","bitsFromTwo","twoMask","right","min","oneMask","rub","v","x","y","z","p","q","cue_in","vv","tailhead","b2","b1","u","dd","cue","cue_bytes","mat","_jam_in_pair","h_a","t_a","_jam_in","_jam_in_ptr","u_c","_jam_in_flat","jam"],"mappings":"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"}