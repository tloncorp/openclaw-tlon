{"version":3,"file":"nockjs.cjs.production.min.js","sources":["../src/bigint.ts","../src/murmur3.ts","../src/noun-dejs.ts","../src/noun-std.ts","../src/noun.ts","../src/noun-enjs.ts","../src/bits.ts","../src/noun-helpers.ts","../src/hamt.ts","../src/serial.ts","../src/list.ts"],"sourcesContent":["\nexport function bigIntToByteArray(bigInt: bigint): Uint8Array {\n  const hexString = bigInt.toString(16);\n  const paddedHexString = hexString.length % 2 === 0 ? hexString : '0' + hexString;\n  const arrayLength = paddedHexString.length / 2;\n  const int8Array = new Uint8Array(arrayLength);\n  for (let i = 0; i < paddedHexString.length; i += 2) {\n    const hexSubstring = paddedHexString.slice(i, i + 2);\n    const signedInt = (parseInt(hexSubstring, 16) << 24) >> 24;\n    int8Array[(i / 2)] = signedInt;\n  }\n  return int8Array;\n}\n\n//  bit length cache entries\nconst blcCoeff: number[] = [];\nconst blcBigCoeff: bigint[] = [];\nconst blc: bigint[] = [];\nlet blcNext = 0;\n\nexport function bitLength(bigIntValue: bigint): number {\n  if (bigIntValue === 0n) return 0;\n\n  //  there is no native bigint bitlength measuring support,\n  //  so we roll our own. this beats toString-based implementations (and those,\n  //  slightly surprisingly, beat manual bitstep loops).\n  //  the approach here is to find *an* upper bound quickly through comparisons,\n  //  in exponentially escalating steps, and then slowly step down the\n  //  comparisons to find the exact result. we get final precision from\n  //  Math.clz32. this approach makes measurements on large bignums way faster.\n  //  https://stackoverflow.com/a/76616288\n\n  //  find upper bound\n  let k = 0\n  while (true) {\n    if (blcNext === k) {\n      blcCoeff.push(32 << blcNext);\n      blcBigCoeff.push(BigInt(blcCoeff[blcNext]));\n      blc.push(1n << blcBigCoeff[blcNext]);\n      blcNext++;\n    }\n    if (bigIntValue < blc[k]) break;\n    k++;\n  }\n\n  //  smallint case\n  if (!k)\n    return 32 - Math.clz32(Number(bigIntValue));\n\n  //  determine exact length by bisection\n  k--;\n  let i = blcCoeff[k];\n  let a = bigIntValue >> blcBigCoeff[k];\n  while (k--) {\n    let b = a >> blcBigCoeff[k];\n    if (b) (i += blcCoeff[k], a = b);\n  }\n\n  return i + 32 - Math.clz32(Number(a));\n}\n\nexport function testBit(bigIntValue: bigint, index: number): boolean {\n  return (bigIntValue & (BigInt(1) << BigInt(index))) !== BigInt(0);\n}\nexport function shortValue(bigintValue: bigint): number {\n  const result = Number(bigintValue % BigInt(2 ** 16));\n  return result >= 2 ** 15 ? result - 2 ** 16 : result;\n}\nexport function bigIntFromStringWithRadix(number: string, radix: number): bigint {\n  //  native constructor is slightly faster\n  if (radix === 16) return BigInt('0x' + (number || '0'));\n  if (radix === 10) return BigInt(number || '0');\n\n  let result = BigInt(0);\n  const base = BigInt(radix);\n  const length = number.length;\n\n  for (let i = 0; i < length; i++) {\n    const digit = parseInt(number.charAt(i), radix);\n    if (isNaN(digit)) {\n      throw new Error(`Invalid character for radix ${radix}: '${number.charAt(i)}'`);\n    }\n    result = result * base + BigInt(digit);\n  }\n\n  return result;\n}","import { bigIntToByteArray } from \"./bigint\";\n\n// modified from source to accept bigint key and have optional key bytelength arg\n// see: https://github.com/garycourt/murmurhash-js\n//\n// Copyright (c) 2011 Gary Court\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n// of the Software, and to permit persons to whom the Software is furnished to do\n// so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n/**\n * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)\n *\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/murmurhash-js\n * @author <a href=\"mailto:aappleby@gmail.com\">Austin Appleby</a>\n * @see http://sites.google.com/site/murmurhash/\n *\n * @param {string} key ASCII only\n * @param {number} seed Positive integer only\n * @return {number} 32-bit positive integer hash\n **/\nexport function murmurhash3_bi(len: number | null, key: bigint, seed: number) {\n  let remainder, bytes, h1, h1b, c1, c2, k1, i; // c1b, c2b unused\n\n  let yek: Uint8Array;\n  if (0n === key) {\n    yek = new Uint8Array(0);\n    len = len || 0;\n  } else {\n    yek = bigIntToByteArray(key);\n    len = len || yek.length;\n  }\n  if (yek.length < len) {\n    const fil = new Uint8Array(len - yek.length);\n    const nek = new Uint8Array(yek.length + fil.length);\n    nek.set(fil);\n    nek.set(yek, fil.length);\n    yek = nek;\n  } else if (yek.length > len) {\n    throw new Error(\"murmur3 oversized key for length\");\n  }\n  yek.reverse();  //  shenanigans\n\n  remainder = yek.length & 3; // yek.length % 4\n  bytes = yek.length - remainder;\n  h1 = seed;\n  c1 = 0xcc9e2d51;\n  c2 = 0x1b873593;\n  i = 0;\n\n  while (i < bytes) {\n    k1 =\n      (yek[i] & 0xff) |\n      ((yek[++i] & 0xff) << 8) |\n      ((yek[++i] & 0xff) << 16) |\n      ((yek[++i] & 0xff) << 24);\n    ++i;\n\n    k1 =\n      ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff;\n    k1 = (k1 << 15) | (k1 >>> 17);\n    k1 =\n      ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff;\n\n    h1 ^= k1;\n    h1 = (h1 << 13) | (h1 >>> 19);\n    h1b =\n      ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) & 0xffffffff;\n    h1 = (h1b & 0xffff) + 0x6b64 + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);\n  }\n\n  k1 = 0;\n\n  switch (remainder) {\n    case 3:\n      k1 ^= (yek[i + 2] & 0xff) << 16;\n    case 2:\n      k1 ^= (yek[i + 1] & 0xff) << 8;\n    case 1:\n      k1 ^= yek[i] & 0xff;\n\n      k1 =\n        ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &\n        0xffffffff;\n      k1 = (k1 << 15) | (k1 >>> 17);\n      k1 =\n        ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &\n        0xffffffff;\n      h1 ^= k1;\n  }\n\n  h1 ^= yek.length;\n\n  h1 ^= h1 >>> 16;\n  h1 =\n    ((h1 & 0xffff) * 0x85ebca6b +\n      ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) &\n    0xffffffff;\n  h1 ^= h1 >>> 13;\n  h1 =\n    ((h1 & 0xffff) * 0xc2b2ae35 +\n      ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) &\n    0xffffffff;\n  h1 ^= h1 >>> 16;\n\n  return h1 >>> 0;\n};","import { Atom, Cell, isNoun } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { putIn, putBy } from \"./noun-std\";\n\n//  primitives\n\ntype Atomizable = number | string | Atom;\n\n// \"Do What I Mean\"\nfunction dwim(a: number): Atom;\nfunction dwim(a: string): Atom;\nfunction dwim(a: Atomizable, b: Atomizable): Cell<Atom, Atom>;\nfunction dwim(\n  a: Atomizable,\n  b: Atomizable,\n  c: Atomizable\n): Cell<Atom, Cell<Atom, Atom>>;\nfunction dwim(a: Atomizable, ...b: any[]): Cell<Atom, Cell<Noun, Noun>>;\nfunction dwim(...a: any[]): Cell<Noun, Noun>;\n// implementation\nfunction dwim(...args: any[]): Noun {\n  const n = args.length === 1 ? args[0] : args;\n  if (isNoun(n)) return n;\n  if (typeof n === \"number\") {\n    return Atom.fromInt(n);\n  } else if (typeof n === \"bigint\") {\n    return new Atom(n);\n  } else if (typeof n === \"string\") {\n    return Atom.fromCord(n);\n  } else if (Array.isArray(n)) {\n    if (n.length < 2) {\n      return dwim(n[0]);\n    }\n    const head = dwim(n[n.length - 2]);\n    const tail = dwim(n[n.length - 1]);\n    let cel = new Cell(head, tail);\n    for (var j = n.length - 3; j >= 0; --j) {\n      cel = new Cell(dwim(n[j]), cel);\n    }\n    return cel;\n  } else if (n === null) {\n    return Atom.zero;\n  }\n  //  objects, undefined, etc\n  console.error(\"what do you mean??\", typeof n, JSON.stringify(n));\n  throw new Error('dwim, but meaning unclear');\n}\n\n//  structures\n\nfunction list(args: any[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  return dwim([...args, Atom.zero]);\n}\n\nfunction set(args: any[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  let set: Noun = Atom.zero;\n  for (let arg of args) {\n    set = putIn(set, dwim(arg));\n  }\n  return set;\n}\n\nfunction map(args: {key: any, val: any}[]): Noun {\n  if (args.length === 0) return Atom.zero;\n  let map: Noun = Atom.zero;\n  for (let arg of args) {\n    map = putBy(map, dwim(arg.key), dwim(arg.val));\n  }\n  return map;\n}\n\nconst dejs = {\n  nounify: dwim,\n  dwim,\n  list,\n  set,\n  map\n};\n\nexport { dejs, dwim };\n","import { murmurhash3_bi } from \"./murmur3\";\nimport { Atom, Cell } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { dwim } from \"./noun-dejs\";\n\n//\n//  mugs\n//\n\nexport function mug(arg: Noun): number {\n  return arg.mug();\n}\n\nexport function mum(syd: number, fal: number, key: bigint): number {\n  let i = 0;\n  while (i < 8) {\n    const haz = murmurhash3_bi(null, key, syd);\n    const ham = (haz >>> 31) ^ (haz & 0x7fffffff);\n    if (0 !== ham) return ham;\n    i++; syd++;\n  }\n  return fal;\n}\n\nexport function muk(syd: number, len: number, key: bigint): number {\n  return murmurhash3_bi(len, key, syd);\n};\n\n//\n//  ordering\n//\n\n//  +dor: depth order\nexport function dor(a: Noun, b: Noun): boolean {\n  //  ?:  =(a b)  &\n  if (a.equals(b)) return true;\n  //  ?.  ?=(@ a)\n  if (a.isCell()) {\n    //  ?:  ?=(@ b)  |\n    if (b.isAtom()) return false;\n    //  ?:  =(-.a -.b)\n    if (a.head.equals(b.head))\n      //  $(a +.a, b +.b)\n      return dor(a.tail, b.tail);\n    //  $(a -.a, b -.b)\n    return dor(a.head, b.head);\n  }\n  //  ?.  ?=(@ b)  &\n  if (b.isCell()) return true;\n  //  (lth a b)\n  return (a < b);\n}\n\n//  +gor: mug hash order, collisions fall back to +dor\nexport function gor(a: Noun, b: Noun): boolean {\n  //  =+  [c=(mug a) d=(mug b)]\n  const c = a.mug();\n  const d = b.mug();\n  //  ?:  =(c d)\n  if (c === d)\n    //  (dor a b)\n    return dor(a, b);\n  //  (lth c d)\n  return c < d;\n}\n\n//  +mor: double mug hash order, collisions fall back to +dor\nexport function mor(a: Noun, b: Noun): boolean {\n  //  =+  [c=(mug (mug a)) d=(mug (mug b))]\n  const c = Atom.fromInt(a.mug()).mug();\n  const d = Atom.fromInt(b.mug()).mug();\n  //  ?:  =(c d)\n  if (c === d)\n    //  (dor a b)\n    return dor(a, b);\n  //  (lth c d)\n  return c < d;\n}\n\n//\n//  data structures\n//\n\n//  isSet: check for set with >0 entries, ?=([* * *])\nexport function isSet(a: Noun): a is Cell<Noun, Cell<Noun, Noun>> {\n  return a.isCell() && a.tail.isCell();\n}\n\n//  +put:in: set insertion\nexport function putIn(a: Noun, b: Noun): Noun {\n  //  ?~  a\n  //    [b ~ ~]\n  if (a.equals(Atom.zero)) {\n    return dwim(b, null, null);\n  }\n  if (!isSet(a)) {\n    throw new Error('malformed set');\n  }\n  //  ?:  =(b n.a)\n  //    a\n  if (b.equals(a.head)) {\n    return a;\n  }\n  //  ?:  (gor b n.a)\n  if (gor(b, a.head)) {\n    //  =+  c=$(a l.a)\n    const c = putIn(a.tail.head, b);\n    //  ?>  ?=(^ c)\n    if (!isSet(c)) {\n      throw new Error('implementation error');\n    }\n    //  ?:  (mor n.a n.c)\n    //    a(l c)\n    if (mor(a.head, c.head)) {\n      return dwim(a.head, c, a.tail.tail);\n    }\n    //  c(r a(l r.c))\n    return dwim(c.head, c.tail.head, [a.head, c.tail.tail, a.tail.tail]);\n  }\n  //  =+  c=$(a r.a)\n  const c = putIn(a.tail.tail, b);\n  //  ?>  ?=(^ c)\n  if (!isSet(c)) {\n    throw new Error('implementation error');\n  }\n  //  ?:  (mor n.a n.c)\n  //    a(r c)\n  if (mor(a.head, c.head)) {\n    return dwim(a.head, a.tail.head, c);\n  }\n  //  c(l a(r l.c))\n  return dwim(c.head, [a.head, a.tail.head, c.tail.head], c.tail.tail);\n}\n\n//  isMap: check for map with >0 entries, ?=([[* *] * *])\nexport function isMap(a: Noun): a is Cell<Cell<Noun, Noun>, Cell<Noun, Noun>> {\n  return a.isCell() && a.head.isCell() && a.tail.isCell();\n}\n\n//  +put:by: map insertion\nexport function putBy(a: Noun, b: Noun, c: Noun): Noun {\n  //  ?~  a\n  //    [[b c] ~ ~]\n  if (a.equals(Atom.zero)) {\n    return dwim([b, c], null, null);\n  }\n  if (!isMap(a)) {\n    throw new Error('malformed map');\n  }\n  //  ?:  =(b p.n.a)\n  if (b.equals(a.head.head)) {\n    //  ?:  =(c q.n.a)\n    //    a\n    if (c.equals(a.head.tail)) {\n      return a;\n    }\n    //  a(n [b c])\n    return dwim([b, c], a.tail);\n  }\n  //  ?:  (gor b p.n.a)\n  if (gor(b, a.head.head)) {\n    //  =+  d=$(a l.a)\n    const d = putBy(a.tail.head, b, c);\n    //  ?>  ?=(^ d)\n    if (!isMap(d)) {\n      throw new Error('implementation error');\n    }\n    //  ?:  (mor p.n.a p.n.d)\n    //    a(l d)\n    if (mor(a.head.head, d.head.head)) {\n      return dwim(a.head, d, a.tail.tail);\n    }\n    //  d(r a(l r.d))\n    return dwim(d.head, d.tail.head, [a.head, d.tail.tail, a.tail.tail]);\n  }\n  //  =+  d=$(a r.a)\n  const d = putBy(a.tail.tail, b, c);\n  //  ?>  ?=(^ d)\n  if (!isMap(d)) {\n    throw new Error('implementation error');\n  }\n  //  ?:  (mor p.n.a p.n.d)\n  //    a(r d)\n  if (mor(a.head.head, d.head.head)) {\n    return dwim(a.head, a.tail.head, d);\n  }\n  //  d(l a(r l.d))\n  return dwim(d.head, [a.head, a.tail.head, d.tail.head], d.tail.tail);\n}\n","import {\n  bigIntFromStringWithRadix,\n  bigIntToByteArray,\n  bitLength,\n  testBit,\n} from \"./bigint\";\nimport { mum } from \"./noun-std\";\n\n// Helpers\n\nexport const fragCache: Record<string, (arg: Noun) => Noun> = {\n  \"0\": function (a: Noun) {\n    throw new Error(\"Bail\");\n  },\n  \"1\": function (a: Noun) {\n    return a;\n  },\n};\n\n// Classes\nclass Atom {\n  private _mug = 0;\n  public deep = false;\n  public static small: Atom[] = (Array.from(Array(256))).map((function (_, i: number) {\n    return new Atom(BigInt(i));\n  }));\n  public static zero = Atom.small[0];\n  public static one = Atom.small[1];\n  public static two = Atom.small[2];\n  public static three = Atom.small[3];\n  constructor(public readonly number: bigint) {}\n\n  // common methods with Cell\n  isAtom(): this is Atom             { return true; }\n  isCell(): this is Cell<Noun, Noun> { return false; }\n  pretty(out: string[], hasTail = false): void {\n    if (this.number < 65536n) out.push(this.number.toString(10));\n    else {\n      let tap: string[] = [],\n        isTa = true,\n        isTas = true,\n        bytes = bigIntToByteArray(this.number);\n      for (let i = bytes.length - 1; i >= 0; --i) {\n        const c = bytes[i];\n        if (isTa && (c < 32 || c > 127)) {\n          isTa = false;\n          isTas = false;\n          break;\n        } else if (\n          isTas &&\n          !((c > 47 && c < 58) || (c > 96 && c < 123) || c === 45)\n        )\n          isTas = false;\n        tap.push(String.fromCharCode(c));\n      }\n      if (isTas) {\n        out.push(\"%\");\n        out.push.apply(out, tap);\n      } else if (isTa) {\n        out.push(\"'\");\n        out.push.apply(out, tap);\n        out.push(\"'\");\n      } else {\n        out.push(\"0x\");\n        out.push(this.number.toString(16));\n      }\n    }\n  }\n  toString(): string {\n    const parts: string[] = [];\n    this.pretty(parts, false);\n    return parts.join(\"\");\n  }\n  equals(o: Noun): boolean {\n    return o instanceof Atom && o.number === this.number;\n  }\n  loob(): boolean {\n    if (Number(this.number) === 0) return true;\n    if (Number(this.number) === 1) return false;\n    else throw new Error(\"Bail\");\n  }\n  mug(): number {\n    if (this._mug === 0) this._mug = this.calculateMug();\n    return this._mug;\n  }\n  calculateMug(): number {\n    return mum(0xcafebabe, 0x7fff, this.number);\n  }\n  mugged(): boolean {\n    return this._mug !== 0;\n  }\n  at(a: Atom): Noun {\n    return Atom.fragmenter(a)(this);\n  }\n  // Atom specific methods\n  bump(): Atom {\n    return new Atom(this.number + 1n);\n  }\n  bytes() {\n    const bytes = bigIntToByteArray(this.number);\n    const r: number[] = [];\n    for (var i = bytes.length - 1; i >= 0; --i) {\n      r.push(bytes[i] & 0xff);\n    }\n    return r;\n  }\n  cap(): Atom {\n    if (Number(this.number) === 0) throw new Error(\"Bail\");\n    if (Number(this.number) === 1) throw new Error(\"Bail\");\n    else\n      return testBit(this.number, bitLength(this.number) - 2)\n        ? new Atom(3n)\n        : new Atom(2n);\n  }\n  mas(): Atom {\n    if (Number(this.number) === 0) throw new Error(\"Bail\");\n    if (Number(this.number) === 1) throw new Error(\"Bail\");\n    if (Number(this.number) === 2) return new Atom(1n);\n    if (Number(this.number) === 3) return new Atom(1n);\n    else {\n      const n = this.number;\n      const l = bitLength(n) - 2;\n      const addTop = BigInt(1 << l);\n      const mask = BigInt((1 << l) - 1);\n      return new Atom((n & mask) ^ addTop);\n    }\n  }\n  shortCode() {\n    return this.number.toString(36); // can we do more?\n  }\n  // Class Methods\n  static cordToString(c: Atom): string {\n    const bytes = c.bytes(),\n      chars: string[] = [];\n\n    for (let i = 0; i < bytes.length; ++i) {\n      chars.push(String.fromCharCode(bytes[i]));\n    }\n    return chars.join(\"\");\n  };\n  // cached tree addressing function constructor\n  static fragmenter(a: Atom): (arg: Noun) => Noun {\n    const s = a.shortCode();\n    if (fragCache.hasOwnProperty(s)) {\n      return fragCache[s];\n    } else {\n      for (var parts = [\"a\"]; !Atom.one.equals(a); a = a.mas()) {\n        parts.push(Atom.two.equals(a.cap()) ? \"head\" : \"tail\");\n      }\n      return (fragCache[s] = new Function(\n        \"a\",\n        \"return \" + parts.join(\".\") + \";\"\n      ) as (arg: Noun) => Noun);\n    }\n  };\n  // Atom builders\n  static fromString(str: string, radix: number = 10): Atom {\n    const num = bigIntFromStringWithRadix(str, radix);\n    return new Atom(num);\n  }\n  static fromInt(n: number): Atom {\n    if (n < 256) return Atom.small[n];\n    else return new Atom(BigInt(n));\n  }\n  static fromCord(str: string): Atom {\n    if (str.length === 0) return Atom.zero;\n    let i,\n      j,\n      octs = Array(str.length);\n    for (i = 0, j = octs.length - 1; i < octs.length; ++i, --j) {\n      const charByte = (str.charCodeAt(i) & 0xff).toString(16);\n      octs[j] = charByte.length === 1 ? \"0\" + charByte : charByte;\n    }\n    if (str.length > 4)  return Atom.fromString(octs.join(''), 16);\n    else                 return new Atom(BigInt(parseInt(octs.join(\"\"), 16)));\n  }\n}\nclass Cell<TH extends Noun, TT extends Noun> {\n  private _mug = 0;\n  constructor(public readonly head: TH, public readonly tail: TT, public deep = true) {}\n  // common methods\n  isAtom(): this is Atom         { return false; }\n  isCell(): this is Cell<TH, TT> { return true; }\n  pretty(out: string[], hasTail: boolean): void {\n    if (!hasTail) out.push(\"[\");\n    this.head.pretty(out, false);\n    out.push(\" \");\n    this.tail.pretty(out, true);\n    if (!hasTail) out.push(\"]\");\n  }\n\n  toString(): string {\n    const parts: string[] = [];\n    this.pretty(parts, false);\n    return parts.join(\"\");\n  }\n  mug(): number {\n    if (this._mug === 0) this._mug = this.calculateMug();\n    return this._mug;\n  }\n  calculateMug(): number {\n    return mum(0xdeadbeef, 0xfffe,\n               ((BigInt(this.tail.mug()) << 32n) | BigInt(this.head.mug())));\n  }\n  mugged(): boolean {\n    return this._mug !== 0;\n  }\n  equals(o: Noun): boolean {\n    if (o instanceof Cell) return this.unify(o);\n    else return false;\n  }\n  bump(): void {\n    throw new Error(\"Bail\");\n  }\n  loob(): boolean {\n    throw new Error(\"Bail\");\n  }\n  at(a: Atom): Noun {\n    return Atom.fragmenter(a)(this);\n  }\n  // Cell specific\n  unify(o: Cell<Noun, Noun>): boolean {\n    if (this === o) return true;\n    if (o.mugged()) {\n      if (this.mugged()) {\n        if (this.mug() != o.mug()) return false;\n      } else return o.unify(this);\n    }\n    if (this.head.equals(o.head)) {\n      // @ts-ignore, we are intentionally de-duplicating\n      o.head = this.head;\n      if (this.tail.equals(o.tail)) {\n        o._mug = this._mug;\n        // @ts-ignore, we are intentionally de-duplicating\n        o.tail = this.tail;\n        return true;\n      }\n    }\n    return false;\n  }\n}\ntype Noun = Atom | Cell<Noun, Noun>;\n\nexport function isAtom(a: any): a is Atom {\n  return a instanceof Atom;\n}\nexport function isCell(a: any): a is Cell<Noun, Noun> {\n  return a instanceof Cell;\n}\nexport function isNoun(a: any): a is Noun {\n  return isAtom(a) || isCell(a);\n}\n\nexport { Atom, Cell, Noun };\n","import { Atom, Cell } from \"./noun\";\nimport type { Noun } from \"./noun\";\nimport { bitLength } from \"./bigint\";\n\ntype Json = null | boolean | number | string | Json[] | { [key: string]: Json };\nexport type EnjsFunction = (n: Noun) => Json;\ntype frondOpt = { tag: string; get: EnjsFunction };\n\nconst frond = function (opts: frondOpt[]): EnjsFunction {\n  return function (noun) {\n    if (!(noun instanceof Cell && noun.head instanceof Atom)) {\n      throw new Error(\"frond: noun not cell with tag head\");\n    }\n    const tag = Atom.cordToString(noun.head);\n    for (let i = 0; i < opts.length; i++) {\n      if (tag === opts[i].tag) {\n        return { [tag]: opts[i].get(noun.tail) };\n      }\n    }\n    throw new Error(\"frond: unknown tag\" + tag);\n  };\n};\n\nconst tuple = function(funs: EnjsFunction[]): EnjsFunction {\n  return function (noun) {\n    let i = 0;\n    let o = [];\n    while (i < funs.length - 1) {\n      if (noun.isAtom()) {\n        throw new Error(\"tuple: noun too shallow\");\n      }\n      o.push(funs[i](noun.head));\n      noun = noun.tail;\n      i++;\n    }\n    o.push(funs[i](noun));\n    return o;\n  }\n}\n\ntype PairCell = { nom: string; get: EnjsFunction };\nconst pairs = function (cels: PairCell[]): EnjsFunction {\n  return function (noun) {\n    let i = 0;\n    let o: Record<string, Json> = {};\n    while (i < cels.length - 1) {\n      if (!(noun instanceof Cell)) {\n        throw new Error(\"pairs: noun too shallow\");\n      }\n      o[cels[i].nom] = cels[i].get(noun.head);\n      noun = noun.tail;\n      i++;\n    }\n    o[cels[i].nom] = cels[i].get(noun);\n    return o;\n  };\n};\nconst pair = function (\n  na: string,\n  ga: EnjsFunction,\n  nb: string,\n  gb: EnjsFunction\n): EnjsFunction {\n  return pairs([\n    { nom: na, get: ga },\n    { nom: nb, get: gb },\n  ]);\n};\n\nconst bucwut = function (opts: EnjsFunction[]): EnjsFunction {\n  return function (noun) {\n    for (let i = 0; i < opts.length; i++) {\n      try {\n        const res = opts[i](noun);\n        return res;\n      } catch (e) {\n        continue;\n      }\n    }\n    throw new Error(\"bucwut: no matches\");\n  };\n};\n\n//  buccen: like frond, but without the wrapper object\nconst buccen = function (opts: frondOpt[]): EnjsFunction {\n  return function (noun) {\n    if (!(noun instanceof Cell && noun.head instanceof Atom)) {\n      throw new Error(\"buccen: noun not cell with tag head\");\n    }\n    const tag = Atom.cordToString(noun.head);\n    for (let i = 0; i < opts.length; i++) {\n      if (tag === opts[i].tag) {\n        return opts[i].get(noun.tail);\n      }\n    }\n    throw new Error(\"buccen: unknown tag: \" + tag);\n  };\n};\n\n//  (list *) -> any[]\nconst array = function (item: EnjsFunction): (n: Noun) => Json[] {\n  return function (noun) {\n    let a: Json[] = [];\n    while (noun instanceof Cell) {\n      a.push(item(noun.head));\n      noun = noun.tail;\n    }\n    return a;\n  };\n};\n\n//  (tree *) -> any[]\nconst tree = function (item: EnjsFunction): (n: Noun) => Json[] {\n  return function (noun) {\n    if (noun instanceof Cell) {\n      if (!(noun.tail instanceof Cell)) {\n        throw new Error(\"tree: malformed\");\n      }\n      return [\n        ...tree(item)(noun.tail.tail),\n        item(noun.head),\n        ...tree(item)(noun.tail.head),\n      ];\n    }\n    return [];\n  };\n};\n\nconst cord = function (noun: Noun): string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(`cord: noun not atom ${noun.toString()}`);\n  }\n  return Atom.cordToString(noun);\n};\n\nconst tape = function (noun: Noun): string {\n  return (array(((n: Noun) => {\n    if (n.isCell()) {\n      throw new Error(\"tape: malformed\");\n    }\n    return Atom.cordToString(n);\n  }))(noun)).join();\n}\n\nconst numb = function (noun: Noun): number | string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numb: noun not atom\");\n  }\n  if (bitLength(noun.number) <= 32) {\n    return Number(noun.number);\n  } else {\n    return noun.number.toString();\n  }\n};\n\nconst numb32 = function (noun: Noun): number {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numb32: noun not atom\");\n  }\n  if (bitLength(noun.number) > 32) {\n    throw new Error(\"numb32: number too big\");\n  }\n  return Number(noun.number);\n}\n\nconst numbString = function (noun: Noun): string {\n  if (!(noun instanceof Atom)) {\n    throw new Error(\"numbString: noun not atom\");\n  }\n  return noun.number.toString();\n}\n\nconst loob = function (noun: Noun): boolean {\n  return noun.loob();\n};\n\nconst nill = function (noun: Noun): null {\n  if (!(noun instanceof Atom && noun.number === 0n)) {\n    throw new Error(\"nill: not null\");\n  }\n  return null;\n};\n\nconst path = array(cord);\n\nconst enjs = {\n  frond,\n  tuple,\n  pairs,\n  pair,\n  array,\n  loob,\n  tree,\n  cord,\n  tape,\n  numb,\n  numb32,\n  numbString,\n  path,\n  buccen,\n  bucwut,\n  nill,\n};\n\nexport { enjs };\n","import { bigIntFromStringWithRadix, bitLength } from \"./bigint\";\nimport { Atom, Cell, Noun } from \"./noun\";\n//TODO  could probably increase performance by not converting bigint -> number\n\n// a is native, returns native\nfunction met(a: number, b: Atom): number {\n  var bits = bitLength(b.number),\n    full = bits >>> a,\n    part = full << a !== bits;\n\n  return part ? full + 1 : full;\n}\n\nfunction gth(a: Atom, b: Atom) {\n  return a.number > b.number;\n}\n\nfunction lth(a: Atom, b: Atom) {\n  return a.number < b.number;\n}\n\nfunction gte(a: Atom, b: Atom) {\n  return a.number >= b.number;\n}\n\nfunction lte(a: Atom, b: Atom) {\n  return a.number <= b.number;\n}\n\nfunction add(a: Atom, b: Atom) {\n  return new Atom(a.number + b.number);\n}\n\nfunction sub(a: Atom, b: Atom) {\n  var r = a.number - b.number;\n  if (r < 0) {\n    throw new Error(\"subtract underflow\");\n  } else {\n    return new Atom(r);\n  }\n}\nfunction dec(a: Atom) {\n  return sub(a, Atom.one);\n}\n\nfunction bex(a: Atom) {\n  const b = 1n << a.number;\n  return new Atom(b);\n}\n\nfunction lsh(a: Atom, b: Atom, c: Atom) {\n  var bits = Number(b.number << a.number);\n  return new Atom(c.number << BigInt(bits));\n}\n\nfunction rsh(a: Atom, b: Atom, c: Atom) {\n  var bits = b.number << a.number;\n  return new Atom(c.number >> BigInt(bits));\n}\n\n// to/from little-endian 32-bit word array, as used in vere\n// TODO: efficiency is horrible here, but can be improved using internals\nfunction bytesToWords(bytes: number[]): number[] {\n  var len = bytes.length,\n    trim = len % 4;\n  let i: number, b: number, w: number;\n\n  if (trim > 0) {\n    len += 4 - trim;\n    for (i = 0; i < trim; ++i) {\n      bytes.push(0);\n    }\n  }\n\n  const size = len >> 2;\n  const words: number[] = new Array(size);\n  for (i = 0, b = 0; i < size; ++i) {\n    w = (bytes[b++] << 0) & 0x000000ff;\n    w ^= (bytes[b++] << 8) & 0x0000ff00;\n    w ^= (bytes[b++] << 16) & 0x00ff0000;\n    w ^= (bytes[b++] << 24) & 0xff000000;\n    words[i] = w;\n  }\n  return words;\n}\n\nfunction wordsToBytes(words: number[]): number[] {\n  const buf: number[] = [];\n  let w: number, i: number, b: number;\n  for (i = 0, b = 0; i < words.length; ++i) {\n    w = words[i];\n    buf[b++] = 0xff & (w & 0x000000ff);\n    buf[b++] = 0xff & ((w & 0x0000ff00) >>> 8);\n    buf[b++] = 0xff & ((w & 0x00ff0000) >>> 16);\n    buf[b++] = 0xff & ((w & 0xff000000) >>> 24);\n  }\n  // or here. one of the 'get rid of extra zeros' functions.\n  while (buf[--b] === 0) {\n    buf.pop();\n  }\n  return buf;\n}\n\nfunction bytesToAtom(bytes: number[]): Atom {\n  let byt: number,\n    parts: string[] = [];\n  for (var i = bytes.length - 1; i >= 0; --i) {\n    byt = bytes[i] & 0xff;\n    parts.push(byt < 16 ? \"0\" + byt.toString(16) : byt.toString(16));\n  }\n  const num = bigIntFromStringWithRadix(parts.join(\"\"), 16);\n  return new Atom(num);\n}\n\nfunction atomToBytes(atom: Atom) {\n  return atom.bytes();\n}\n\nfunction atomToWords(atom: Atom): number[] {\n  return bytesToWords(atomToBytes(atom));\n}\n\nfunction wordsToAtom(words: number[]): Atom {\n  return bytesToAtom(wordsToBytes(words));\n}\n// 0x3930b13c0dedeccf01 atom\n\nvar malt = wordsToAtom;\n\n// XX: INTERNAL\nfunction slaq(bloq: number, len: number): number[] {\n  return new Array(((len << bloq) + 31) >>> 5);\n}\n\n// src is atom, all others native\nfunction chop(\n  met: number,\n  fum: number,\n  wid: number,\n  tou: number,\n  dst: number[],\n  src: Atom\n): void {\n  var buf = atomToWords(src),\n    len = buf.length,\n    i: number,\n    j: number,\n    san: number,\n    mek: number,\n    baf: number,\n    bat: number,\n    hut: number,\n    san: number,\n    wuf: number,\n    wut: number,\n    waf: number,\n    raf: number,\n    wat: number,\n    rat: number,\n    hop: number;\n\n  if (met < 5) {\n    san = 1 << met;\n    mek = (1 << san) - 1;\n    baf = fum << met;\n    bat = tou << met;\n\n    for (i = 0; i < wid; ++i) {\n      waf = baf >>> 5;\n      raf = baf & 31;\n      wat = bat >>> 5;\n      rat = bat & 31;\n      hop = waf >= len ? 0 : buf[waf];\n      hop = (hop >>> raf) & mek;\n      dst[wat] ^= hop << rat;\n      baf += san;\n      bat += san;\n    }\n  } else {\n    hut = met - 5;\n    san = 1 << hut;\n\n    for (i = 0; i < wid; ++i) {\n      wuf = (fum + i) << hut;\n      wut = (tou + i) << hut;\n\n      for (j = 0; j < san; ++j) {\n        dst[wut + j] ^= wuf + j >= len ? 0 : buf[wuf + j];\n      }\n    }\n  }\n}\n// bloq, start, length, atom\nfunction cut(a: Atom, b: Atom, c: Atom, d: Atom): Atom {\n  //  this is the common case for cue operations, important to be fast,\n  //  we can just use native operatios for it\n  if (a.number === 0n) {\n    return new Atom((d.number >> b.number) & ((1n << c.number) - 1n));\n  }\n\n  var ai = Number(a.number),\n    bi = Number(b.number),\n    ci = Number(c.number);\n\n  var len = met(ai, d);\n  if (Atom.zero.equals(c) || bi >= len) {\n    return Atom.zero;\n  }\n  if (bi + ci > len) {\n    ci = len - Number(b.number); // doublecheck\n  }\n  if (0 === bi && ci === len) {\n    return d;\n  } else {\n    var sal = slaq(ai, ci);\n    chop(ai, bi, ci, 0, sal, d);\n    return malt(sal);\n  }\n}\n\nconst maxCat = Atom.fromInt(0xffffffff);\nconst catBits = Atom.fromInt(32);\n\nfunction end(a: Atom, b: Atom, c: Atom): Atom {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else if (gth(b, maxCat)) {\n    return c;\n  } else {\n    var ai = Number(a.number),\n      bi = Number(b.number),\n      len = met(ai, c);\n\n    if (0 === bi) {\n      return Atom.zero;\n    } else if (bi >= len) {\n      return c;\n    } else {\n      var sal = slaq(ai, bi);\n      chop(ai, 0, bi, 0, sal, c);\n      return malt(sal);\n    }\n  }\n}\n\nfunction mix(a: Atom, b: Atom) {\n  return new Atom(a.number ^ b.number);\n}\n\n// doublecheck everything\nfunction cat(a: Atom, b: Atom, c: Atom): Atom {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else {\n    var ai = Number(a.number),\n      lew = met(ai, b),\n      ler = met(ai, c),\n      all = lew + ler;\n    if (0 === all) {\n      return Atom.zero;\n    } else {\n      const sal = slaq(ai, all);\n      chop(ai, 0, lew, 0, sal, b);\n      chop(ai, 0, ler, lew, sal, c);\n      return malt(sal);\n    }\n  }\n}\n\nfunction can(a: Atom, b: Noun) {\n  if (gth(a, catBits)) {\n    throw new Error(\"Fail\");\n  } else {\n    let ai = Number(a.number),\n      tot = 0,\n      cab = b,\n      pos,\n      i_cab,\n      pi_cab,\n      qi_cab;\n\n    // measure\n    while (true) {\n      if (Atom.zero.equals(cab)) break;\n      if (cab instanceof Atom) throw new Error(\"Fail\");\n      i_cab = cab.head;\n      if (i_cab instanceof Atom) throw new Error(\"Fail\");\n      else if (i_cab instanceof Cell) {\n        pi_cab = i_cab.head;\n        qi_cab = i_cab.tail;\n      }\n      if (pi_cab instanceof Atom && gth(pi_cab, maxCat))\n        throw new Error(\"Fail\");\n      if (qi_cab instanceof Cell) throw new Error(\"Fail\");\n      if (pi_cab instanceof Atom) tot += Number(pi_cab.number);\n      if (cab instanceof Cell) cab = cab.tail;\n    }\n    if (0 === tot) return Atom.zero;\n    var sal = slaq(ai, tot);\n\n    // chop the list atoms in\n    cab = b;\n    pos = 0;\n    while (!Atom.zero.equals(cab)) {\n      if (cab instanceof Cell) i_cab = cab.head;\n      if (i_cab instanceof Cell) {\n        if (i_cab.head instanceof Atom) pi_cab = Number(i_cab.head.number);\n        qi_cab = i_cab.tail;\n        chop(ai, 0, pi_cab as number, pos, sal, qi_cab as Atom);\n        pos += pi_cab as number;\n        if (cab instanceof Cell) cab = cab.tail;\n      }\n    }\n    return malt(sal);\n  }\n}\n\nexport default {\n  met,\n  cut,\n  add,\n  sub,\n  dec,\n  gth,\n  lth,\n  gte,\n  lte,\n  bex,\n  lsh,\n  rsh,\n  end,\n  mix,\n  cat,\n  can,\n  bytesToWords,\n  wordsToBytes,\n  bytesToAtom,\n  atomToBytes,\n  atomToWords,\n  wordsToAtom,\n};\n","import { enjs } from \"./noun-enjs\";\nimport { dejs } from \"./noun-dejs\";\nimport { Atom, Noun } from \"./noun\";\nimport bits from \"./bits\";\nconst dwim = dejs.dwim;\n\nexport type FaceMask = string | FaceMask[];\nexport type FaceAxes = { [key: string]: Atom };\nconst mask = ( face: FaceMask,\n               axis: Atom = Atom.one,\n               axes: FaceAxes = {}\n             ): FaceAxes => {\n  if (typeof face === 'string') {\n    if (face === '') return axes;\n    axes[face] = axis;\n    return axes;\n  } else {\n    if (face.length === 0) return axes;\n    if (face.length === 1) {\n      return mask(face[0], axis, axes);\n    } else {\n      const left = bits.lsh(Atom.zero, Atom.one, axis);\n      axes = mask(face[0], left, axes);\n      return mask(face.slice(1), left.bump(), axes);\n    }\n  }\n}\nconst grab = (axes: FaceAxes, noun: Noun, face: string): Noun => {\n  return noun.at(axes[face]);\n}\n\nconst experimental = {\n  mask, grab\n}\n\nexport { enjs, dejs, dwim, experimental };\n","import { Noun } from \"./noun\";\n\nabstract class Slot {\n  abstract insert(key: Noun, val: any, lef: number, rem: number): Slot;\n  abstract get(key: Noun, lef: number, rem: number): any;\n}\nclass Node extends Slot {\n  slots: any[];\n  constructor() {\n    super();\n    this.slots = Array(32);\n  }\n\n  insert(key: Noun, val: any, lef: number, rem: number): Node {\n    lef -= 5;\n    const inx = rem >>> lef;\n    rem &= (1 << lef) - 1;\n    this.slots[inx] =\n      undefined === this.slots[inx]\n        ? new Single(key, val)\n        : this.slots[inx].insert(key, val, lef, rem);\n    return this;\n  }\n  get(key: Noun, lef: number, rem: number) {\n    lef -= 5;\n    const inx = rem >>> lef;\n    rem &= (1 << lef) - 1;\n    const sot = this.slots[inx];\n\n    return undefined === sot ? undefined : sot.get(key, lef, rem);\n  }\n}\nclass Bucket extends Slot {\n  singles: Single[];\n  constructor() {\n    super();\n    this.singles = [];\n  }\n  insert(key: Noun, val: any, lef: number, rem: number): Bucket {\n    const a = this.singles;\n    for (var i = 0; i < a.length; ++i) {\n      const s = a[i];\n      if (s.key.equals(key)) {\n        s.val = val;\n        return this;\n      }\n    }\n    a.push(new Single(key, val));\n    return this;\n  }\n  get(key: Noun) {\n    const a = this.singles;\n    for (var i = 0; i < a.length; ++i) {\n      const s = a[i];\n      if (s.key.equals(key)) {\n        return s.val;\n      }\n    }\n  }\n}\nclass Single extends Slot {\n  key: Noun;\n  val: any;\n  constructor(key: Noun, val: any) {\n    super();\n    this.key = key;\n    this.val = val;\n  }\n  insert(key: Noun, val: any, lef: number, rem: number): Slot {\n    if (this.key.equals(key)) {\n      this.val = val;\n      return this;\n    } else {\n      const rom = this.key.mug() & ((1 << lef) - 1);\n      const n = lef > 0 ? new Node() : new Bucket();\n      n.insert(this.key, this.val, lef, rom);\n      n.insert(key, val, lef, rem);\n      return n;\n    }\n  }\n  get(key: Noun) {\n    if (this.key.equals(key)) return this.val;\n  }\n}\nclass NounMap {\n  slots: any[];\n  constructor() {\n    this.slots = Array(64);\n  }\n  insert(key: Noun, val: Noun): void {\n    const m = key.mug();\n    const inx = m >>> 25;\n    const sot = this.slots;\n    if (sot[inx] === undefined) sot[inx] = new Single(key, val);\n    else {\n      var rem = m & ((1 << 25) - 1);\n      sot[inx] = sot[inx].insert(key, val, 25, rem);\n    }\n  }\n  get(key: Noun) {\n    const m = key.mug();\n    const inx = m >>> 25;\n    const sot = this.slots[inx];\n    if (undefined === sot) {\n      return undefined;\n    } else {\n      var rem = m & ((1 << 25) - 1);\n      return sot.get(key, 25, rem);\n    }\n  }\n}\n\nexport { NounMap };\n","import { Atom, Cell, Noun } from \"./noun\";\nimport { dwim } from \"./noun-helpers\";\nimport bits from \"./bits\";\nimport list from \"./list\";\nimport { NounMap } from \"./hamt\";\nimport { bigIntFromStringWithRadix, bigIntToByteArray } from \"./bigint\";\n\nfunction bytesToBigint(bytes: number[]): bigint {\n  if (bytes.length === 1) return BigInt(bytes[0]);\n  let byt: number,\n    parts: string[] = [];\n  for (var i = bytes.length - 1; i >= 0; --i) {\n    byt = bytes[i] & 0xff;\n    parts.push(byt.toString(16).padStart(2, '0'));\n  }\n  const num = bigIntFromStringWithRadix(parts.join(\"\"), 16);\n  return num;\n}\n\nfunction bigintToDataView(a: bigint): DataView {\n  return new DataView((new Uint8Array(bigIntToByteArray(a).reverse())).buffer);\n}\n\n//  cue\n//NOTE  we operate primarily on a DataView (backed by a byte buffer), because\n//      that's way faster for big jams than the naive bigint bits operations.\n\nfunction bi_cut(b: bigint, c: bigint, d: bigint) {\n  return dv_cut(Number(b), Number(c), bigintToDataView(d));\n}\n\nfunction dv_bit(b: number, d: DataView): number {\n  const byte = Math.floor(b / 8);\n  return ((d.getUint8(byte)) >> (b % 8)) & 1;\n}\n\nfunction dv_bitLength(d: DataView): number {\n  const l = d.byteLength - 1;\n  if (l > (2**49)) throw new Error('bail: oversized byte buffer'); //REVIEW\n  return (l * 8) + d.getUint8(l).toString(2).length;\n}\n\nfunction dv_cut(b: number, c: number, d: DataView): bigint {\n  if (c === 1) return dv_bit(b, d) ? 1n : 0n;\n  const offset = b % 8;\n  if (offset === 0) return dv_cut_at_bytes(b, c, d);  //TODO  might not matter\n  const out = [];\n  let curByte = Math.floor(b / 8);\n\n  //  for reading whole bytes, read from both left and right according to offset\n  const bitsFromOne = 8 - offset;\n  const bitsFromTwo = offset;\n  const twoMask = 0xff >> (8 - bitsFromTwo);\n  while (c >= 8) {\n    const one = d.getUint8(curByte);\n    const two = d.getUint8(curByte + 1);\n\n    const left = (two & twoMask) << bitsFromOne;\n    const right = one >> bitsFromTwo;\n\n    out.push(left | right);\n\n    curByte++;\n    c -= 8;\n  }\n\n  //  for the last <8 bits, read them carefully\n  if (c > 0n) {\n    const bitsFromOne = Math.min(c, 8 - offset);\n    const bitsFromTwo = c - bitsFromOne;\n    const oneMask = (0xff >> (8 - bitsFromOne)) << offset;\n    const twoMask = 0xff >> (8 - bitsFromTwo);\n\n    const one = d.getUint8(curByte);\n    const two = (curByte + 1 >= d.byteLength) ? 0 : d.getUint8(curByte + 1);\n\n    const left = (bitsFromTwo === 0) ? 0 : ((two & twoMask) << bitsFromOne);\n    const right = (one & oneMask) >> offset;\n\n    out.push(left | right);\n  }\n\n  return bytesToBigint(out);\n}\n\nfunction dv_cut_at_bytes(b: number, c: number, d: DataView): bigint {\n  if ((b % 8) !== 0) throw new Error('non-byte-aligned read ' + b);\n  let curByte = Math.floor(b / 8);\n  const out = [];\n  //  we can just grab bytes directly\n  while (c >= 8) {\n    out.push(d.getUint8(curByte));\n    curByte++;\n    c -= 8;\n  }\n  //  only for the last one may we need to mask out bits beyond read range\n  if (c > 0n) {\n    out.push(d.getUint8(curByte) & ((0xff >> (8 - c))));\n  }\n  return bytesToBigint(out);\n}\n\nfunction rub(a: number, v: DataView, l: number): { head: number, tail: Atom } {\n  var c, d, e, w, x, y, z, p, q, m;\n\n  m = a + l;\n  x = a;\n\n  while (0 === dv_bit(x, v)) {\n    y = x + 1;\n\n    //  Sanity check: crash if decoding more bits than available\n    if (x > m) throw new Error('bail: rubbing past end');\n\n    x = y;\n  }\n\n  if (a === x) return { head: 1, tail: Atom.zero };\n\n  c = x - a;\n  d = x + 1;\n\n  x = c - 1;\n  if (x > 52) throw new Error('bail: rubbing oversized pointer (>52 bits)');\n\n  y = 2 ** x; // bex(x);\n  z = Number(dv_cut(d, x, v));\n\n  e = y + z;\n  w = c + c;\n  y = w + e;\n  z = d + x;\n\n  p = w + e;\n  q = dv_cut(z, e, v);\n\n  return { head: p, tail: new Atom(q) };\n}\n\nfunction insert(m: { [key: number]: Noun }, k: number, n: Noun) {\n  return m[k] = n;\n}\n\nfunction get(m: { [key: number]: Noun }, k: number) {\n  return m[k];\n}\n\nfunction cue_in(m: { [key: number]: Noun }, vv: DataView, l: number, b: number): { head: number, tail: Noun } {\n  let head: number;\n  let tailhead: Noun;\n\n  if (0 === dv_bit(b, vv)) {\n    const x = 1 + b;\n    const c = rub(x, vv, l);\n    head = c.head + 1;\n    tailhead = c.tail;\n    insert(m, b, tailhead);\n  } else {\n    let b2 = 2 + b;\n    let b1 = 1 + b;\n\n    if (0 === dv_bit(b1, vv)) {\n      const u = cue_in(m, vv, l, b2);\n      const x = u.head + b2;\n      const v = cue_in(m, vv, l, x);\n      const y = u.head + v.head;\n      head = 2 + y;\n      tailhead = new Cell(u.tail, v.tail);\n      insert(m, b, tailhead);\n    } else {\n      const d = rub(b2, vv, l);\n      const dd = get(m, Number(d.tail.number));\n      if (undefined === dd) throw new Error(\"Bail\");\n      head = 2 + d.head;\n      tailhead = dd;\n    }\n  }\n  return { head: head, tail: tailhead };\n}\n\nfunction cue(a: Atom): Noun {\n  return cue_bytes(bigintToDataView(a.number));\n}\nfunction cue_bytes(v: DataView): Noun {\n  return cue_in({}, v, dv_bitLength(v), 0).tail;\n}\n\n//  jam\n\nfunction mat(a: Atom): Cell<Atom, Atom> {\n  if (Atom.zero.equals(a)) {\n    return dwim(1, 1);\n  } else {\n    const b = dwim(bits.met(0, a)),\n      c = dwim(bits.met(0, b)),\n      u = bits.dec(c),\n      v = bits.add(c, c),\n      x = bits.end(Atom.zero, u, b),\n      w = bits.bex(c),\n      y = bits.lsh(Atom.zero, u, a),\n      z = bits.mix(x, y),\n      p = bits.add(v, b),\n      q = bits.cat(Atom.zero, w, z);\n    return dwim(p, q);\n  }\n}\nfunction _jam_in_pair(\n  m: NounMap,\n  h_a: Noun,\n  t_a: Noun,\n  b: Atom,\n  l: Noun\n): Cell<Atom, Cell<Atom, Atom>> {\n  var w = dwim([2, 1], l),\n    x = bits.add(Atom.two, b),\n    d = _jam_in(m, h_a, x, w),\n    y = bits.add(x, d.head),\n    e = _jam_in(m, t_a, y, d.tail.head),\n    z = bits.add(d.head, e.head);\n  return dwim(bits.add(Atom.two, z), e.tail.head, Atom.zero);\n}\nfunction _jam_in_ptr(u_c: Atom, l: Noun): Cell<Atom, Cell<Atom, Noun>> {\n  var d = mat(u_c),\n    x = bits.lsh(Atom.zero, Atom.two, d.tail),\n    y = bits.add(Atom.two, d.head);\n\n  return dwim(y, [[y, bits.mix(Atom.three, x)], l], Atom.zero) as Cell<\n    Atom,\n    Cell<Atom, Noun>\n  >;\n}\n\nfunction _jam_in_flat(a: Atom, l: Noun): Cell<Atom, Cell<Atom, Noun>> {\n  var d = mat(a),\n    x = bits.add(Atom.one, d.head);\n\n  return dwim(\n    x,\n    [[x, bits.lsh(Atom.zero, Atom.one, d.tail)], l],\n    Atom.zero\n  ) as Cell<Atom, Cell<Atom, Noun>>;\n}\n\nfunction _jam_in(\n  m: NounMap,\n  a: Noun,\n  b: Atom,\n  l: Noun\n): Cell<Atom, Cell<Atom, Noun>> {\n  const c = m.get(a);\n  if (undefined == c) {\n    m.insert(a, b);\n    return a instanceof Cell\n      ? _jam_in_pair(m, a.head, a.tail, b, l)\n      : _jam_in_flat(a, l);\n  } else if (a instanceof Atom && bits.met(0, a) <= bits.met(0, c)) {\n    return _jam_in_flat(a, l);\n  } else {\n    return _jam_in_ptr(c, l);\n  }\n}\n\nfunction jam(n: Noun): Atom {\n  const x = _jam_in(new NounMap(), n, Atom.zero, Atom.zero),\n    q = list.flop(x.tail.head);\n  return bits.can(Atom.zero, q);\n}\nexport { cue, jam, mat,\n         cue_bytes, bigintToDataView,\n         bi_cut };\n","import { Atom, Cell, Noun } from \"./noun\";\n\nfunction flop(a: Noun): Noun {\n  var b: Noun = Atom.zero;\n\n  while (true) {\n    if (Atom.zero.equals(a)) {\n      return b;\n    } else if (a instanceof Atom) {\n      throw new Error(\"Bail\");\n    } else {\n      b = new Cell(a.head, b);\n      a = a.tail;\n    }\n  }\n}\n\nfunction forEach(n: Noun, f: Function): void {\n  while (true) {\n    if (Atom.zero.equals(n)) {\n      return;\n    } else if (n instanceof Atom) {\n      throw new Error(\"Bail\");\n    } else {\n      f(n.head);\n      n = n.tail;\n    }\n  }\n}\n\nexport default {\n  flop,\n  forEach,\n};\n"],"names":["bigIntToByteArray","bigInt","hexString","toString","paddedHexString","length","int8Array","Uint8Array","i","hexSubstring","slice","signedInt","parseInt","blcCoeff","blcBigCoeff","blc","blcNext","bitLength","bigIntValue","k","push","BigInt","Math","clz32","Number","a","b","bigIntFromStringWithRadix","number","radix","result","base","digit","charAt","isNaN","Error","murmurhash3_bi","len","key","seed","remainder","bytes","h1","h1b","c1","c2","k1","yek","fil","nek","set","reverse","dwim","_len","arguments","args","Array","_key","n","isNoun","Atom","fromInt","fromCord","isArray","head","tail","cel","Cell","j","zero","console","error","JSON","stringify","dejs","nounify","arg","putIn","map","putBy","val","mum","syd","fal","haz","ham","dor","equals","isCell","isAtom","gor","c","mug","d","mor","isSet","isMap","fragCache","constructor","this","_mug","deep","pretty","out","hasTail","tap","isTa","isTas","String","fromCharCode","apply","parts","join","o","loob","calculateMug","mugged","at","fragmenter","bump","r","cap","index","mas","l","addTop","mask","shortCode","cordToString","chars","s","hasOwnProperty","one","two","Function","fromString","str","num","small","octs","charByte","charCodeAt","from","_","three","unify","pairs","cels","noun","nom","get","array","item","tree","cord","enjs","frond","opts","tag","tuple","funs","pair","na","ga","nb","gb","tape","numb","numb32","numbString","path","buccen","bucwut","e","nill","met","bits","full","gth","sub","bytesToWords","trim","w","size","words","wordsToBytes","buf","pop","bytesToAtom","byt","atomToBytes","atom","atomToWords","wordsToAtom","malt","slaq","bloq","chop","fum","wid","tou","dst","src","mek","baf","bat","hut","san","wuf","wut","waf","maxCat","catBits","cut","ai","bi","ci","sal","add","dec","lth","gte","lte","bex","lsh","rsh","end","mix","cat","lew","ler","all","can","pos","i_cab","pi_cab","qi_cab","tot","cab","face","axis","axes","left","experimental","grab","Slot","Node","super","slots","insert","lef","rem","inx","undefined","Single","sot","Bucket","singles","rom","NounMap","m","bytesToBigint","padStart","bigintToDataView","DataView","buffer","dv_bit","byte","floor","getUint8","dv_cut","offset","curByte","dv_cut_at_bytes","bitsFromOne","bitsFromTwo","twoMask","min","oneMask","byteLength","rub","v","x","y","p","q","cue_in","vv","tailhead","b2","u","dd","cue_bytes","dv_bitLength","mat","z","_jam_in_flat","_jam_in","h_a","t_a","_jam_in_pair","u_c","_jam_in_ptr","list"],"mappings":"aACM,SAAUA,EAAkBC,GAChC,MAAMC,EAAYD,EAAOE,SAAS,IAC5BC,EAAkBF,EAAUG,OAAS,GAAM,EAAIH,EAAY,IAAMA,EAEjEI,EAAY,IAAIC,WADFH,EAAgBC,OAAS,GAE7C,IAAK,IAAIG,EAAI,EAAGA,EAAIJ,EAAgBC,OAAQG,GAAK,EAAG,CAClD,MAAMC,EAAeL,EAAgBM,MAAMF,EAAGA,EAAI,GAC5CG,EAAaC,SAASH,EAAc,KAAO,IAAO,GACxDH,EAAWE,EAAI,GAAMG,CACtB,CACD,OAAOL,CACT,wDAGA,MAAMO,EAAqB,GACrBC,EAAwB,GACxBC,EAAgB,GACtB,IAAIC,EAAU,EAER,SAAUC,EAAUC,GACxB,GAAoB,KAAhBA,EAAoB,OAAO,EAY/B,IAAIC,EAAI,EACR,KACMH,IAAYG,IACdN,EAASO,KAAK,IAAMJ,GACpBF,EAAYM,KAAKC,OAAOR,EAASG,KACjCD,EAAIK,KAAK,IAAMN,EAAYE,IAC3BA,OAEEE,EAAcH,EAAII,KACtBA,IAIF,IAAKA,EACH,OAAO,GAAKG,KAAKC,MAAMC,OAAON,IAGhCC,IACA,IAAIX,EAAIK,EAASM,GACbM,EAAIP,GAAeJ,EAAYK,GACnC,KAAOA,KAAK,CACV,IAAIO,EAAID,GAAKX,EAAYK,GACrBO,IAAIlB,GAAKK,EAASM,GAAIM,EAAIC,EAC/B,CAED,OAAOlB,EAAI,GAAKc,KAAKC,MAAMC,OAAOC,GACpC,CASgB,SAAAE,EAA0BC,EAAgBC,GAExD,GAAc,KAAVA,EAAc,OAAOR,OAAO,MAAQO,GAAU,MAClD,GAAc,KAAVC,EAAc,OAAOR,OAAOO,GAAU,KAE1C,IAAIE,EAAST,OAAO,GACpB,MAAMU,EAAOV,OAAOQ,GACdxB,EAASuB,EAAOvB,OAEtB,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,MAAMwB,EAAQpB,SAASgB,EAAOK,OAAOzB,GAAIqB,GACzC,GAAIK,MAAMF,GACR,MAAM,IAAIG,MAAM,+BAA+BN,OAAWD,EAAOK,OAAOzB,OAE1EsB,EAASA,EAASC,EAAOV,OAAOW,EACjC,CAED,OAAOF,CACT,UCjDgBM,EAAeC,EAAoBC,EAAaC,GAC9D,IAAIC,EAAWC,EAAOC,EAAIC,EAAKC,EAAIC,EAAIC,EAAItC,EAEvCuC,EAQJ,GAPI,KAAOT,GACTS,EAAM,IAAIxC,WAAW,GACrB8B,EAAMA,GAAO,IAEbU,EAAM/C,EAAkBsC,GACxBD,EAAMA,GAAOU,EAAI1C,QAEf0C,EAAI1C,OAASgC,EAAK,CACpB,MAAMW,EAAM,IAAIzC,WAAW8B,EAAMU,EAAI1C,QAC/B4C,EAAM,IAAI1C,WAAWwC,EAAI1C,OAAS2C,EAAI3C,QAC5C4C,EAAIC,IAAIF,GACRC,EAAIC,IAAIH,EAAKC,EAAI3C,QACjB0C,EAAME,CACP,MAAM,GAAIF,EAAI1C,OAASgC,EACtB,MAAM,IAAIF,MAAM,oCAWlB,IATAY,EAAII,UAEJX,EAAyB,EAAbO,EAAI1C,OAChBoC,EAAQM,EAAI1C,OAASmC,EACrBE,EAAKH,EACLK,EAAK,WACLC,EAAK,UACLrC,EAAI,EAEGA,EAAIiC,GACTK,EACY,IAATC,EAAIvC,IACQ,IAAXuC,IAAMvC,KAAc,GACT,IAAXuC,IAAMvC,KAAc,IACT,IAAXuC,IAAMvC,KAAc,KACtBA,EAEFsC,GACS,MAALA,GAAeF,KAASE,IAAO,IAAMF,EAAM,QAAW,IAAO,WACjEE,EAAMA,GAAM,GAAOA,IAAO,GAC1BA,GACS,MAALA,GAAeD,KAASC,IAAO,IAAMD,EAAM,QAAW,IAAO,WAEjEH,GAAMI,EACNJ,EAAMA,GAAM,GAAOA,IAAO,GAC1BC,EACmB,GAAV,MAALD,KAAoC,GAAbA,IAAO,IAAW,QAAW,IAAO,WAC/DA,EAAsB,OAAV,MAANC,KAA2C,OAAdA,IAAQ,IAAgB,QAAW,IAKxE,OAFAG,EAAK,EAEGN,GACN,KAAK,EACHM,IAAoB,IAAbC,EAAIvC,EAAI,KAAc,GAC/B,KAAK,EACHsC,IAAoB,IAAbC,EAAIvC,EAAI,KAAc,EAC/B,KAAK,EACHsC,GAAe,IAATC,EAAIvC,GAEVsC,GACS,MAALA,GAAeF,KAASE,IAAO,IAAMF,EAAM,QAAW,IACxD,WACFE,EAAMA,GAAM,GAAOA,IAAO,GAC1BA,GACS,MAALA,GAAeD,KAASC,IAAO,IAAMD,EAAM,QAAW,IACxD,WACFH,GAAMI,EAiBV,OAdAJ,GAAMK,EAAI1C,OAEVqC,GAAMA,IAAO,GACbA,EACmB,YAAV,MAALA,KACiB,YAAbA,IAAO,IAAoB,QAAW,IAC5C,WACFA,GAAMA,IAAO,GACbA,EACmB,YAAV,MAALA,KACiB,YAAbA,IAAO,IAAoB,QAAW,IAC5C,WACFA,GAAMA,IAAO,GAENA,IAAO,CAChB,CCtGA,SAASU,IAAmB,IAAA,IAAAC,EAAAC,UAAAjD,OAAXkD,EAAWC,IAAAA,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAXF,EAAWE,GAAAH,UAAAG,GAC1B,MAAMC,EAAoB,IAAhBH,EAAKlD,OAAekD,EAAK,GAAKA,EACxC,GAAII,EAAOD,GAAI,OAAOA,EACtB,GAAiB,iBAANA,EACT,OAAOE,EAAKC,QAAQH,GACf,GAAiB,iBAANA,EAChB,OAAO,IAAIE,EAAKF,GACX,GAAiB,iBAANA,EAChB,OAAOE,EAAKE,SAASJ,GAChB,GAAIF,MAAMO,QAAQL,GAAI,CAC3B,GAAIA,EAAErD,OAAS,EACb,OAAO+C,EAAKM,EAAE,IAEhB,MAAMM,EAAOZ,EAAKM,EAAEA,EAAErD,OAAS,IACzB4D,EAAOb,EAAKM,EAAEA,EAAErD,OAAS,IAC/B,IAAI6D,EAAM,IAAIC,EAAKH,EAAMC,GACzB,IAAK,IAAIG,EAAIV,EAAErD,OAAS,EAAG+D,GAAK,IAAKA,EACnCF,EAAM,IAAIC,EAAKf,EAAKM,EAAEU,IAAKF,GAE7B,OAAOA,CACR,CAAM,GAAU,OAANR,EACT,OAAOE,EAAKS,KAId,MADAC,QAAQC,MAAM,4BAA6Bb,EAAGc,KAAKC,UAAUf,IACvD,IAAIvB,MAAM,4BAClB,CA2BA,MAAMuC,EAAO,CACXC,QAASvB,OACTA,OAzBF,SAAcG,GACZ,OAAoB,IAAhBA,EAAKlD,OAAqBuD,EAAKS,KAC5BjB,EAAK,IAAIG,EAAMK,EAAKS,MAC7B,EAwBEnB,IAtBF,SAAaK,GACX,GAAoB,IAAhBA,EAAKlD,OAAc,OAAOuD,EAAKS,KACnC,IAAInB,EAAYU,EAAKS,KACrB,IAAK,IAAIO,KAAOrB,EACdL,EAAM2B,EAAM3B,EAAKE,EAAKwB,IAExB,OAAO1B,CACT,EAgBE4B,IAdF,SAAavB,GACX,GAAoB,IAAhBA,EAAKlD,OAAc,OAAOuD,EAAKS,KACnC,IAAIS,EAAYlB,EAAKS,KACrB,IAAK,IAAIO,KAAOrB,EACduB,EAAMC,EAAMD,EAAK1B,EAAKwB,EAAItC,KAAMc,EAAKwB,EAAII,MAE3C,OAAOF,CACT,YC1DgBG,EAAIC,EAAaC,EAAa7C,GAC5C,IAAI9B,EAAI,EACR,KAAOA,EAAI,GAAG,CACZ,MAAM4E,EAAMhD,EAAe,KAAME,EAAK4C,GAChCG,EAAOD,IAAQ,GAAa,WAANA,EAC5B,GAAI,IAAMC,EAAK,OAAOA,EACtB7E,IAAK0E,GACN,CACD,OAAOC,CACT,CAWgB,SAAAG,EAAI7D,EAASC,GAE3B,QAAID,EAAE8D,OAAO7D,KAETD,EAAE+D,UAEA9D,EAAE+D,WAEFhE,EAAEuC,KAAKuB,OAAO7D,EAAEsC,MAEXsB,EAAI7D,EAAEwC,KAAMvC,EAAEuC,MAEhBqB,EAAI7D,EAAEuC,KAAMtC,EAAEsC,SAGnBtC,EAAE8D,UAEE/D,EAAIC,EACd,CAGgB,SAAAgE,EAAIjE,EAASC,GAE3B,MAAMiE,EAAIlE,EAAEmE,MACNC,EAAInE,EAAEkE,MAEZ,OAAID,IAAME,EAEDP,EAAI7D,EAAGC,GAETiE,EAAIE,CACb,CAGgB,SAAAC,EAAIrE,EAASC,GAE3B,MAAMiE,EAAI/B,EAAKC,QAAQpC,EAAEmE,OAAOA,MAC1BC,EAAIjC,EAAKC,QAAQnC,EAAEkE,OAAOA,MAEhC,OAAID,IAAME,EAEDP,EAAI7D,EAAGC,GAETiE,EAAIE,CACb,CAOM,SAAUE,EAAMtE,GACpB,OAAOA,EAAE+D,UAAY/D,EAAEwC,KAAKuB,QAC9B,CAGgB,SAAAX,EAAMpD,EAASC,GAG7B,GAAID,EAAE8D,OAAO3B,EAAKS,MAChB,OAAOjB,EAAK1B,EAAG,KAAM,MAEvB,IAAKqE,EAAMtE,GACT,MAAM,IAAIU,MAAM,iBAIlB,GAAIT,EAAE6D,OAAO9D,EAAEuC,MACb,OAAOvC,EAGT,GAAIiE,EAAIhE,EAAGD,EAAEuC,MAAO,CAElB,MAAM2B,EAAId,EAAMpD,EAAEwC,KAAKD,KAAMtC,GAE7B,IAAKqE,EAAMJ,GACT,MAAM,IAAIxD,MAAM,wBAIlB,OAAI2D,EAAIrE,EAAEuC,KAAM2B,EAAE3B,MACTZ,EAAK3B,EAAEuC,KAAM2B,EAAGlE,EAAEwC,KAAKA,MAGzBb,EAAKuC,EAAE3B,KAAM2B,EAAE1B,KAAKD,KAAM,CAACvC,EAAEuC,KAAM2B,EAAE1B,KAAKA,KAAMxC,EAAEwC,KAAKA,MAC/D,CAED,MAAM0B,EAAId,EAAMpD,EAAEwC,KAAKA,KAAMvC,GAE7B,IAAKqE,EAAMJ,GACT,MAAM,IAAIxD,MAAM,wBAIlB,OAAI2D,EAAIrE,EAAEuC,KAAM2B,EAAE3B,MACTZ,EAAK3B,EAAEuC,KAAMvC,EAAEwC,KAAKD,KAAM2B,GAG5BvC,EAAKuC,EAAE3B,KAAM,CAACvC,EAAEuC,KAAMvC,EAAEwC,KAAKD,KAAM2B,EAAE1B,KAAKD,MAAO2B,EAAE1B,KAAKA,KACjE,CAGM,SAAU+B,EAAMvE,GACpB,OAAOA,EAAE+D,UAAY/D,EAAEuC,KAAKwB,UAAY/D,EAAEwC,KAAKuB,QACjD,UAGgBT,EAAMtD,EAASC,EAASiE,GAGtC,GAAIlE,EAAE8D,OAAO3B,EAAKS,MAChB,OAAOjB,EAAK,CAAC1B,EAAGiE,GAAI,KAAM,MAE5B,IAAKK,EAAMvE,GACT,MAAM,IAAIU,MAAM,iBAGlB,GAAIT,EAAE6D,OAAO9D,EAAEuC,KAAKA,MAGlB,OAAI2B,EAAEJ,OAAO9D,EAAEuC,KAAKC,MACXxC,EAGF2B,EAAK,CAAC1B,EAAGiE,GAAIlE,EAAEwC,MAGxB,GAAIyB,EAAIhE,EAAGD,EAAEuC,KAAKA,MAAO,CAEvB,MAAM6B,EAAId,EAAMtD,EAAEwC,KAAKD,KAAMtC,EAAGiE,GAEhC,IAAKK,EAAMH,GACT,MAAM,IAAI1D,MAAM,wBAIlB,OAAI2D,EAAIrE,EAAEuC,KAAKA,KAAM6B,EAAE7B,KAAKA,MACnBZ,EAAK3B,EAAEuC,KAAM6B,EAAGpE,EAAEwC,KAAKA,MAGzBb,EAAKyC,EAAE7B,KAAM6B,EAAE5B,KAAKD,KAAM,CAACvC,EAAEuC,KAAM6B,EAAE5B,KAAKA,KAAMxC,EAAEwC,KAAKA,MAC/D,CAED,MAAM4B,EAAId,EAAMtD,EAAEwC,KAAKA,KAAMvC,EAAGiE,GAEhC,IAAKK,EAAMH,GACT,MAAM,IAAI1D,MAAM,wBAIlB,OAAI2D,EAAIrE,EAAEuC,KAAKA,KAAM6B,EAAE7B,KAAKA,MACnBZ,EAAK3B,EAAEuC,KAAMvC,EAAEwC,KAAKD,KAAM6B,GAG5BzC,EAAKyC,EAAE7B,KAAM,CAACvC,EAAEuC,KAAMvC,EAAEwC,KAAKD,KAAM6B,EAAE5B,KAAKD,MAAO6B,EAAE5B,KAAKA,KACjE,OClLO,MAAMgC,EAAiD,CAC5D,EAAK,SAAUxE,GACb,MAAM,IAAIU,MAAM,OACjB,EACD,EAAK,SAAUV,GACb,OAAOA,CACT,GAIF,MAAMmC,EAUJsC,WAAAA,CAA4BtE,GAAcuE,KAAdvE,YAAA,EAAAuE,KATpBC,KAAO,EAACD,KACTE,MAAO,EAQcF,KAAMvE,OAANA,CAAiB,CAG7C6D,MAAAA,GAAqC,OAAO,CAAM,CAClDD,MAAAA,GAAqC,OAAO,CAAO,CACnDc,MAAAA,CAAOC,EAAeC,GACpB,GAAIL,KAAKvE,OAAS,OAAQ2E,EAAInF,KAAK+E,KAAKvE,OAAOzB,SAAS,SACnD,CACH,IAAIsG,EAAgB,GAClBC,GAAO,EACPC,GAAQ,EACRlE,EAAQzC,EAAkBmG,KAAKvE,QACjC,IAAK,IAAIpB,EAAIiC,EAAMpC,OAAS,EAAGG,GAAK,IAAKA,EAAG,CAC1C,MAAMmF,EAAIlD,EAAMjC,GAChB,GAAIkG,IAASf,EAAI,IAAMA,EAAI,KAAM,CAC/Be,GAAO,EACPC,GAAQ,EACR,KACD,CACCA,KACGhB,EAAI,IAAMA,EAAI,IAAQA,EAAI,IAAMA,EAAI,KAAc,KAANA,KAE/CgB,GAAQ,GACVF,EAAIrF,KAAKwF,OAAOC,aAAalB,GAC9B,CACGgB,GACFJ,EAAInF,KAAK,KACTmF,EAAInF,KAAK0F,MAAMP,EAAKE,IACXC,GACTH,EAAInF,KAAK,KACTmF,EAAInF,KAAK0F,MAAMP,EAAKE,GACpBF,EAAInF,KAAK,OAETmF,EAAInF,KAAK,MACTmF,EAAInF,KAAK+E,KAAKvE,OAAOzB,SAAS,KAEjC,CACH,CACAA,QAAAA,GACE,MAAM4G,EAAkB,GAExB,OADAZ,KAAKG,OAAOS,GAAO,GACZA,EAAMC,KAAK,GACpB,CACAzB,MAAAA,CAAO0B,GACL,OAAOA,aAAarD,GAAQqD,EAAErF,SAAWuE,KAAKvE,MAChD,CACAsF,IAAAA,GACE,GAA4B,IAAxB1F,OAAO2E,KAAKvE,QAAe,OAAO,EACtC,GAA4B,IAAxBJ,OAAO2E,KAAKvE,QAAe,OAAO,EACjC,MAAM,IAAIO,MAAM,OACvB,CACAyD,GAAAA,GAEE,OADkB,IAAdO,KAAKC,OAAYD,KAAKC,KAAOD,KAAKgB,gBAC/BhB,KAAKC,IACd,CACAe,YAAAA,GACE,OAAOlC,EAAI,WAAY,MAAQkB,KAAKvE,OACtC,CACAwF,MAAAA,GACE,OAAqB,IAAdjB,KAAKC,IACd,CACAiB,EAAAA,CAAG5F,GACD,OAAOmC,EAAK0D,WAAW7F,EAAhBmC,CAAmBuC,KAC5B,CAEAoB,IAAAA,GACE,OAAO,IAAI3D,EAAKuC,KAAKvE,OAAS,GAChC,CACAa,KAAAA,GACE,MAAMA,EAAQzC,EAAkBmG,KAAKvE,QAC/B4F,EAAc,GACpB,IAAK,IAAIhH,EAAIiC,EAAMpC,OAAS,EAAGG,GAAK,IAAKA,EACvCgH,EAAEpG,KAAgB,IAAXqB,EAAMjC,IAEf,OAAOgH,CACT,CACAC,GAAAA,GACE,GAA4B,IAAxBjG,OAAO2E,KAAKvE,QAAe,MAAM,IAAIO,MAAM,QAC/C,GAA4B,IAAxBX,OAAO2E,KAAKvE,QAAe,MAAM,IAAIO,MAAM,QAE7C,OJjDkBjB,EIiDHiF,KAAKvE,OJjDmB8F,EIiDXzG,EAAUkF,KAAKvE,QAAU,GJhDjDV,EAAeG,OAAO,IAAMA,OAAOqG,MAAarG,OAAO,GIiDvD,IAAIuC,EAAK,IACT,IAAIA,EAAK,IJnDH,IAAQ1C,EAAqBwG,CIoD3C,CACAC,GAAAA,GACE,GAA4B,IAAxBnG,OAAO2E,KAAKvE,QAAe,MAAM,IAAIO,MAAM,QAC/C,GAA4B,IAAxBX,OAAO2E,KAAKvE,QAAe,MAAM,IAAIO,MAAM,QAC/C,GAA4B,IAAxBX,OAAO2E,KAAKvE,QAAe,OAAO,IAAIgC,EAAK,IAC/C,GAA4B,IAAxBpC,OAAO2E,KAAKvE,QAAe,OAAO,IAAIgC,EAAK,IAC1C,CACH,MAAMF,EAAIyC,KAAKvE,OACTgG,EAAI3G,EAAUyC,GAAK,EACnBmE,EAASxG,OAAO,GAAKuG,GACrBE,EAAOzG,QAAQ,GAAKuG,GAAK,GAC/B,OAAO,IAAIhE,EAAMF,EAAIoE,EAAQD,EAC9B,CACH,CACAE,SAAAA,GACE,OAAO5B,KAAKvE,OAAOzB,SAAS,GAC9B,CAEA,mBAAO6H,CAAarC,GAClB,MAAMlD,EAAQkD,EAAElD,QACdwF,EAAkB,GAEpB,IAAK,IAAIzH,EAAI,EAAGA,EAAIiC,EAAMpC,SAAUG,EAClCyH,EAAM7G,KAAKwF,OAAOC,aAAapE,EAAMjC,KAEvC,OAAOyH,EAAMjB,KAAK,GACpB,CAEA,iBAAOM,CAAW7F,GAChB,MAAMyG,EAAIzG,EAAEsG,YACZ,GAAI9B,EAAUkC,eAAeD,GAC3B,OAAOjC,EAAUiC,GAEjB,IAAK,IAAInB,EAAQ,CAAC,MAAOnD,EAAKwE,IAAI7C,OAAO9D,GAAIA,EAAIA,EAAEkG,MACjDZ,EAAM3F,KAAKwC,EAAKyE,IAAI9C,OAAO9D,EAAEgG,OAAS,OAAS,QAEjD,OAAQxB,EAAUiC,GAAK,IAAII,SACzB,IACA,UAAYvB,EAAMC,KAAK,KAAO,IAGpC,CAEA,iBAAOuB,CAAWC,EAAa3G,YAAAA,IAAAA,EAAgB,IAC7C,MAAM4G,EAAM9G,EAA0B6G,EAAK3G,GAC3C,OAAO,IAAI+B,EAAK6E,EAClB,CACA,cAAO5E,CAAQH,GACb,OAAIA,EAAI,IAAYE,EAAK8E,MAAMhF,GACnB,IAAIE,EAAKvC,OAAOqC,GAC9B,CACA,eAAOI,CAAS0E,GACd,GAAmB,IAAfA,EAAInI,OAAc,OAAOuD,EAAKS,KAClC,IAAI7D,EACF4D,EACAuE,EAAOnF,MAAMgF,EAAInI,QACnB,IAAKG,EAAI,EAAG4D,EAAIuE,EAAKtI,OAAS,EAAGG,EAAImI,EAAKtI,SAAUG,IAAK4D,EAAG,CAC1D,MAAMwE,GAAgC,IAApBJ,EAAIK,WAAWrI,IAAWL,SAAS,IACrDwI,EAAKvE,GAAyB,IAApBwE,EAASvI,OAAe,IAAMuI,EAAWA,CACpD,CACD,OAAIJ,EAAInI,OAAS,EAAWuD,EAAK2E,WAAWI,EAAK3B,KAAK,IAAK,IAC/B,IAAIpD,EAAKvC,OAAOT,SAAS+H,EAAK3B,KAAK,IAAK,KACtE,IA3JIpD,EAAAA,EAGU8E,MAAiBlF,MAAMsF,KAAKtF,MAAM,MAAOsB,KAAK,SAAUiE,EAAGvI,GACvE,OAAO,IAAIoD,EAAKvC,OAAOb,GACzB,IALIoD,EAMUS,KAAOT,EAAK8E,MAAM,GAN5B9E,EAOUwE,IAAMxE,EAAK8E,MAAM,GAP3B9E,EAQUyE,IAAMzE,EAAK8E,MAAM,GAR3B9E,EASUoF,MAAQpF,EAAK8E,MAAM,GAoJnC,MAAMvE,EAEJ+B,WAAAA,CAA4BlC,EAA0BC,EAAiBoC,YAAAA,IAAAA,GAAO,GAAIF,KAAtDnC,UAAA,EAAAmC,KAA0BlC,UAAA,EAAAkC,KAAiBE,UAAA,EAAAF,KAD/DC,KAAO,EACaD,KAAInC,KAAJA,EAA0BmC,KAAIlC,KAAJA,EAAiBkC,KAAIE,KAAJA,CAAc,CAErFZ,MAAAA,GAAiC,OAAO,CAAO,CAC/CD,MAAAA,GAAiC,OAAO,CAAM,CAC9Cc,MAAAA,CAAOC,EAAeC,GACfA,GAASD,EAAInF,KAAK,KACvB+E,KAAKnC,KAAKsC,OAAOC,GAAK,GACtBA,EAAInF,KAAK,KACT+E,KAAKlC,KAAKqC,OAAOC,GAAK,GACjBC,GAASD,EAAInF,KAAK,IACzB,CAEAjB,QAAAA,GACE,MAAM4G,EAAkB,GAExB,OADAZ,KAAKG,OAAOS,GAAO,GACZA,EAAMC,KAAK,GACpB,CACApB,GAAAA,GAEE,OADkB,IAAdO,KAAKC,OAAYD,KAAKC,KAAOD,KAAKgB,gBAC/BhB,KAAKC,IACd,CACAe,YAAAA,GACE,OAAOlC,EAAI,WAAY,MACV5D,OAAO8E,KAAKlC,KAAK2B,QAAU,IAAOvE,OAAO8E,KAAKnC,KAAK4B,OAClE,CACAwB,MAAAA,GACE,OAAqB,IAAdjB,KAAKC,IACd,CACAb,MAAAA,CAAO0B,GACL,OAAIA,aAAa9C,GAAagC,KAAK8C,MAAMhC,EAE3C,CACAM,IAAAA,GACE,MAAM,IAAIpF,MAAM,OAClB,CACA+E,IAAAA,GACE,MAAM,IAAI/E,MAAM,OAClB,CACAkF,EAAAA,CAAG5F,GACD,OAAOmC,EAAK0D,WAAW7F,EAAhBmC,CAAmBuC,KAC5B,CAEA8C,KAAAA,CAAMhC,GACJ,GAAId,OAASc,EAAG,OAAO,EACvB,GAAIA,EAAEG,SAAU,CACd,IAAIjB,KAAKiB,SAEF,OAAOH,EAAEgC,MAAM9C,MADpB,GAAIA,KAAKP,OAASqB,EAAErB,MAAO,OAAO,CAErC,CACD,SAAIO,KAAKnC,KAAKuB,OAAO0B,EAAEjD,QAErBiD,EAAEjD,KAAOmC,KAAKnC,MACVmC,KAAKlC,KAAKsB,OAAO0B,EAAEhD,SACrBgD,EAAEb,KAAOD,KAAKC,KAEda,EAAEhD,KAAOkC,KAAKlC,KACP,GAIb,EAII,SAAUwB,EAAOhE,GACrB,OAAOA,aAAamC,CACtB,CACM,SAAU4B,EAAO/D,GACrB,OAAOA,aAAa0C,CACtB,CACM,SAAUR,EAAOlC,GACrB,OAAOgE,EAAOhE,IAAM+D,EAAO/D,EAC7B,CCnPA,MAiCMyH,EAAQ,SAAUC,GACtB,OAAO,SAAUC,GACf,IAAI5I,EAAI,EACJyG,EAA0B,CAAA,EAC9B,KAAOzG,EAAI2I,EAAK9I,OAAS,GAAG,CAC1B,KAAM+I,aAAgBjF,GACpB,MAAM,IAAIhC,MAAM,2BAElB8E,EAAEkC,EAAK3I,GAAG6I,KAAOF,EAAK3I,GAAG8I,IAAIF,EAAKpF,MAClCoF,EAAOA,EAAKnF,KACZzD,GACD,CAED,OADAyG,EAAEkC,EAAK3I,GAAG6I,KAAOF,EAAK3I,GAAG8I,IAAIF,GACtBnC,EAEX,EA4CMsC,EAAQ,SAAUC,GACtB,OAAO,SAAUJ,GACf,IAAI3H,EAAY,GAChB,KAAO2H,aAAgBjF,GACrB1C,EAAEL,KAAKoI,EAAKJ,EAAKpF,OACjBoF,EAAOA,EAAKnF,KAEd,OAAOxC,EAEX,EAGMgI,EAAO,SAAUD,GACrB,OAAO,SAAUJ,GACf,GAAIA,aAAgBjF,EAAM,CACxB,KAAMiF,EAAKnF,gBAAgBE,GACzB,MAAM,IAAIhC,MAAM,mBAElB,MAAO,IACFsH,EAAKD,EAALC,CAAWL,EAAKnF,KAAKA,MACxBuF,EAAKJ,EAAKpF,SACPyF,EAAKD,EAALC,CAAWL,EAAKnF,KAAKD,MAE3B,CACD,MAAO,GAEX,EAEM0F,EAAO,SAAUN,GACrB,KAAMA,aAAgBxF,GACpB,MAAM,IAAIzB,MAAM,uBAAuBiH,EAAKjJ,cAE9C,OAAOyD,EAAKoE,aAAaoB,EAC3B,EAoDMO,EAAO,CACXC,MAlLY,SAAUC,GACtB,OAAO,SAAUT,GACf,KAAMA,aAAgBjF,GAAQiF,EAAKpF,gBAAgBJ,GACjD,MAAM,IAAIzB,MAAM,sCAElB,MAAM2H,EAAMlG,EAAKoE,aAAaoB,EAAKpF,MACnC,IAAK,IAAIxD,EAAI,EAAGA,EAAIqJ,EAAKxJ,OAAQG,IAC/B,GAAIsJ,IAAQD,EAAKrJ,GAAGsJ,IAClB,MAAO,CAAEA,CAACA,GAAMD,EAAKrJ,GAAG8I,IAAIF,EAAKnF,OAGrC,MAAM,IAAI9B,MAAM,qBAAuB2H,GAE3C,EAsKEC,MApKY,SAASC,GACrB,OAAO,SAAUZ,GACf,IAAI5I,EAAI,EACJyG,EAAI,GACR,KAAOzG,EAAIwJ,EAAK3J,OAAS,GAAG,CAC1B,GAAI+I,EAAK3D,SACP,MAAM,IAAItD,MAAM,2BAElB8E,EAAE7F,KAAK4I,EAAKxJ,GAAG4I,EAAKpF,OACpBoF,EAAOA,EAAKnF,KACZzD,GACD,CAED,OADAyG,EAAE7F,KAAK4I,EAAKxJ,GAAG4I,IACRnC,EAEX,EAsJEiC,QACAe,KApIW,SACXC,EACAC,EACAC,EACAC,GAEA,OAAOnB,EAAM,CACX,CAAEG,IAAKa,EAAIZ,IAAKa,GAChB,CAAEd,IAAKe,EAAId,IAAKe,IAEpB,EA2HEd,QACArC,KAnBW,SAAUkC,GACrB,OAAOA,EAAKlC,MACd,EAkBEuC,OACAC,OACAY,KA3DW,SAAUlB,GACrB,OAAQG,GAAQ7F,IACd,GAAIA,EAAE8B,SACJ,MAAM,IAAIrD,MAAM,mBAElB,OAAOyB,EAAKoE,aAAatE,EAAE,GAJrB6F,CAKJH,GAAOpC,MACb,EAqDEuD,KAnDW,SAAUnB,GACrB,KAAMA,aAAgBxF,GACpB,MAAM,IAAIzB,MAAM,uBAElB,OAAIlB,EAAUmI,EAAKxH,SAAW,GACrBJ,OAAO4H,EAAKxH,QAEZwH,EAAKxH,OAAOzB,UAEvB,EA2CEqK,OAzCa,SAAUpB,GACvB,KAAMA,aAAgBxF,GACpB,MAAM,IAAIzB,MAAM,yBAElB,GAAIlB,EAAUmI,EAAKxH,QAAU,GAC3B,MAAM,IAAIO,MAAM,0BAElB,OAAOX,OAAO4H,EAAKxH,OACrB,EAkCE6I,WAhCiB,SAAUrB,GAC3B,KAAMA,aAAgBxF,GACpB,MAAM,IAAIzB,MAAM,6BAElB,OAAOiH,EAAKxH,OAAOzB,UACrB,EA4BEuK,KAfWnB,EAAMG,GAgBjBiB,OAnHa,SAAUd,GACvB,OAAO,SAAUT,GACf,KAAMA,aAAgBjF,GAAQiF,EAAKpF,gBAAgBJ,GACjD,MAAM,IAAIzB,MAAM,uCAElB,MAAM2H,EAAMlG,EAAKoE,aAAaoB,EAAKpF,MACnC,IAAK,IAAIxD,EAAI,EAAGA,EAAIqJ,EAAKxJ,OAAQG,IAC/B,GAAIsJ,IAAQD,EAAKrJ,GAAGsJ,IAClB,OAAOD,EAAKrJ,GAAG8I,IAAIF,EAAKnF,MAG5B,MAAM,IAAI9B,MAAM,wBAA0B2H,GAE9C,EAuGEc,OAnIa,SAAUf,GACvB,OAAO,SAAUT,GACf,IAAK,IAAI5I,EAAI,EAAGA,EAAIqJ,EAAKxJ,OAAQG,IAC/B,IAEE,OADYqJ,EAAKrJ,GAAG4I,EAErB,CAAC,MAAOyB,GACP,QACD,CAEH,MAAM,IAAI1I,MAAM,sBAEpB,EAwHE2I,KAzBW,SAAU1B,GACrB,KAAMA,aAAgBxF,GAAwB,KAAhBwF,EAAKxH,QACjC,MAAM,IAAIO,MAAM,kBAElB,OAAO,IACT,GChLA,SAAS4I,EAAItJ,EAAWC,GACtB,IAAIsJ,EAAO/J,EAAUS,EAAEE,QACrBqJ,EAAOD,IAASvJ,EAGlB,OAFSwJ,GAAQxJ,IAAMuJ,EAETC,EAAO,EAAIA,CAC3B,CAEA,SAASC,EAAIzJ,EAASC,GACpB,OAAOD,EAAEG,OAASF,EAAEE,MACtB,CAkBA,SAASuJ,EAAI1J,EAASC,GACpB,IAAI8F,EAAI/F,EAAEG,OAASF,EAAEE,OACrB,GAAI4F,EAAI,EACN,MAAM,IAAIrF,MAAM,sBAEhB,OAAO,IAAIyB,EAAK4D,EAEpB,CAsBA,SAAS4D,EAAa3I,GACpB,IAAIJ,EAAMI,EAAMpC,OACdgL,EAAOhJ,EAAM,EACf,IAAI7B,EAAWkB,EAAW4J,EAE1B,GAAID,EAAO,EAET,IADAhJ,GAAO,EAAIgJ,EACN7K,EAAI,EAAGA,EAAI6K,IAAQ7K,EACtBiC,EAAMrB,KAAK,GAIf,MAAMmK,EAAOlJ,GAAO,EACdmJ,EAAkB,IAAIhI,MAAM+H,GAClC,IAAK/K,EAAI,EAAGkB,EAAI,EAAGlB,EAAI+K,IAAQ/K,EAC7B8K,EAAwB,IAAnB7I,EAAMf,KACX4J,GAAM7I,EAAMf,MAAQ,EAAK,MACzB4J,GAAM7I,EAAMf,MAAQ,GAAM,SAC1B4J,GAAM7I,EAAMf,MAAQ,GAAM,WAC1B8J,EAAMhL,GAAK8K,EAEb,OAAOE,CACT,CAEA,SAASC,EAAaD,GACpB,MAAME,EAAgB,GACtB,IAAIJ,EAAW9K,EAAWkB,EAC1B,IAAKlB,EAAI,EAAGkB,EAAI,EAAGlB,EAAIgL,EAAMnL,SAAUG,EACrC8K,EAAIE,EAAMhL,GACVkL,EAAIhK,KAAO,IAAQ4J,EACnBI,EAAIhK,KAAO,KAAa,MAAJ4J,KAAoB,EACxCI,EAAIhK,KAAO,KAAa,SAAJ4J,KAAoB,GACxCI,EAAIhK,KAAO,KAAa,WAAJ4J,KAAoB,GAG1C,KAAoB,IAAbI,IAAMhK,IACXgK,EAAIC,MAEN,OAAOD,CACT,CAEA,SAASE,EAAYnJ,GACnB,IAAIoJ,EACF9E,EAAkB,GACpB,IAAK,IAAIvG,EAAIiC,EAAMpC,OAAS,EAAGG,GAAK,IAAKA,EACvCqL,EAAiB,IAAXpJ,EAAMjC,GACZuG,EAAM3F,KAAKyK,EAAM,GAAK,IAAMA,EAAI1L,SAAS,IAAM0L,EAAI1L,SAAS,KAE9D,MAAMsI,EAAM9G,EAA0BoF,EAAMC,KAAK,IAAK,IACtD,OAAO,IAAIpD,EAAK6E,EAClB,CAEA,SAASqD,EAAYC,GACnB,OAAOA,EAAKtJ,OACd,CAEA,SAASuJ,EAAYD,GACnB,OAAOX,EAAaU,EAAYC,GAClC,CAEA,SAASE,EAAYT,GACnB,OAAOI,EAAYH,EAAaD,GAClC,CAGA,IAAIU,EAAOD,EAGX,SAASE,EAAKC,EAAc/J,GAC1B,OAAO,IAAImB,MAAuB,IAAfnB,GAAO+J,KAAgB,EAC5C,CAGA,SAASC,EACPtB,EACAuB,EACAC,EACAC,EACAC,EACAC,GAEA,IAEElM,EACA4D,EAEAuI,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAZExB,EAAMM,EAAYU,GACpBrK,EAAMqJ,EAAIrL,OAiBZ,GAAI0K,EAAM,EAMR,IAJA4B,GAAO,IADPI,EAAM,GAAKhC,IACQ,EACnB6B,EAAMN,GAAOvB,EACb8B,EAAML,GAAOzB,EAERvK,EAAI,EAAGA,EAAI+L,IAAO/L,EAOrBiM,EAJMI,IAAQ,OAFdK,EAAMN,IAAQ,IAIDvK,EAAM,EAAIqJ,EAAIwB,OAHf,GAANN,GAIgBD,KAFV,GAANE,GAIND,GAAOG,EACPF,GAAOE,OAMT,IAFAA,EAAM,IADND,EAAM/B,EAAM,GAGPvK,EAAI,EAAGA,EAAI+L,IAAO/L,EAIrB,IAHAwM,EAAOV,EAAM9L,GAAMsM,EACnBG,EAAOT,EAAMhM,GAAMsM,EAEd1I,EAAI,EAAGA,EAAI2I,IAAO3I,EACrBqI,EAAIQ,EAAM7I,IAAM4I,EAAM5I,GAAK/B,EAAM,EAAIqJ,EAAIsB,EAAM5I,EAIvD,CA6BA,MAAM+I,EAASvJ,EAAKC,QAAQ,YACtBuJ,EAAUxJ,EAAKC,QAAQ,IAgG7B,IAAemH,EAAA,CACbD,MACAsC,IA9HF,SAAa5L,EAASC,EAASiE,EAASE,GAGtC,GAAiB,KAAbpE,EAAEG,OACJ,OAAO,IAAIgC,EAAMiC,EAAEjE,QAAUF,EAAEE,QAAY,IAAM+D,EAAE/D,QAAU,IAG/D,IAAI0L,EAAK9L,OAAOC,EAAEG,QAChB2L,EAAK/L,OAAOE,EAAEE,QACd4L,EAAKhM,OAAOmE,EAAE/D,QAEZS,EAAM0I,EAAIuC,EAAIzH,GAClB,GAAIjC,EAAKS,KAAKkB,OAAOI,IAAM4H,GAAMlL,EAC/B,OAAOuB,EAAKS,KAKd,GAHIkJ,EAAKC,EAAKnL,IACZmL,EAAKnL,EAAMb,OAAOE,EAAEE,SAElB,IAAM2L,GAAMC,IAAOnL,EACrB,OAAOwD,EAEP,IAAI4H,EAAMtB,EAAKmB,EAAIE,GAEnB,OADAnB,EAAKiB,EAAIC,EAAIC,EAAI,EAAGC,EAAK5H,GAClBqG,EAAKuB,EAEhB,EAsGEC,IAnSF,SAAajM,EAASC,GACpB,OAAO,IAAIkC,EAAKnC,EAAEG,OAASF,EAAEE,OAC/B,EAkSEuJ,MACAwC,IAzRF,SAAalM,GACX,OAAO0J,EAAI1J,EAAGmC,EAAKwE,IACrB,EAwRE8C,MACA0C,IAnTF,SAAanM,EAASC,GACpB,OAAOD,EAAEG,OAASF,EAAEE,MACtB,EAkTEiM,IAhTF,SAAapM,EAASC,GACpB,OAAOD,EAAEG,QAAUF,EAAEE,MACvB,EA+SEkM,IA7SF,SAAarM,EAASC,GACpB,OAAOD,EAAEG,QAAUF,EAAEE,MACvB,EA4SEmM,IA1RF,SAAatM,GAEX,OAAO,IAAImC,EADD,IAAMnC,EAAEG,OAEpB,EAwREoM,IAtRF,SAAavM,EAASC,EAASiE,GAC7B,IAAIqF,EAAOxJ,OAAOE,EAAEE,QAAUH,EAAEG,QAChC,OAAO,IAAIgC,EAAK+B,EAAE/D,QAAUP,OAAO2J,GACrC,EAoREiD,IAlRF,SAAaxM,EAASC,EAASiE,GAE7B,OAAO,IAAI/B,EAAK+B,EAAE/D,QAAUP,OADjBK,EAAEE,QAAUH,EAAEG,QAE3B,EAgREsM,IA3GF,SAAazM,EAASC,EAASiE,GAC7B,GAAIuF,EAAIzJ,EAAG2L,GACT,MAAM,IAAIjL,MAAM,QACX,GAAI+I,EAAIxJ,EAAGyL,GAChB,OAAOxH,EAEP,IAAI2H,EAAK9L,OAAOC,EAAEG,QAChB2L,EAAK/L,OAAOE,EAAEE,QACdS,EAAM0I,EAAIuC,EAAI3H,GAEhB,GAAI,IAAM4H,EACR,OAAO3J,EAAKS,KACP,GAAIkJ,GAAMlL,EACf,OAAOsD,EAEP,IAAI8H,EAAMtB,EAAKmB,EAAIC,GAEnB,OADAlB,EAAKiB,EAAI,EAAGC,EAAI,EAAGE,EAAK9H,GACjBuG,EAAKuB,EAGlB,EAwFEU,IAtFF,SAAa1M,EAASC,GACpB,OAAO,IAAIkC,EAAKnC,EAAEG,OAASF,EAAEE,OAC/B,EAqFEwM,IAlFF,SAAa3M,EAASC,EAASiE,GAC7B,GAAIuF,EAAIzJ,EAAG2L,GACT,MAAM,IAAIjL,MAAM,QAEhB,IAAImL,EAAK9L,OAAOC,EAAEG,QAChByM,EAAMtD,EAAIuC,EAAI5L,GACd4M,EAAMvD,EAAIuC,EAAI3H,GACd4I,EAAMF,EAAMC,EACd,GAAI,IAAMC,EACR,OAAO3K,EAAKS,KACP,CACL,MAAMoJ,EAAMtB,EAAKmB,EAAIiB,GAGrB,OAFAlC,EAAKiB,EAAI,EAAGe,EAAK,EAAGZ,EAAK/L,GACzB2K,EAAKiB,EAAI,EAAGgB,EAAKD,EAAKZ,EAAK9H,GACpBuG,EAAKuB,EACb,CAEL,EAkEEe,IAhEF,SAAa/M,EAASC,GACpB,GAAIwJ,EAAIzJ,EAAG2L,GACT,MAAM,IAAIjL,MAAM,QACX,CACL,IAGEsM,EACAC,EACAC,EACAC,EANEtB,EAAK9L,OAAOC,EAAEG,QAChBiN,EAAM,EACNC,EAAMpN,EAOR,MACMkC,EAAKS,KAAKkB,OAAOuJ,IADV,CAEX,GAAIA,aAAelL,EAAM,MAAM,IAAIzB,MAAM,QAEzC,GADAuM,EAAQI,EAAI9K,KACR0K,aAAiB9K,EAAM,MAAM,IAAIzB,MAAM,QAK3C,GAJSuM,aAAiBvK,IACxBwK,EAASD,EAAM1K,KACf4K,EAASF,EAAMzK,MAEb0K,aAAkB/K,GAAQsH,EAAIyD,EAAQxB,GACxC,MAAM,IAAIhL,MAAM,QAClB,GAAIyM,aAAkBzK,EAAM,MAAM,IAAIhC,MAAM,QACxCwM,aAAkB/K,IAAMiL,GAAOrN,OAAOmN,EAAO/M,SAC7CkN,aAAe3K,IAAM2K,EAAMA,EAAI7K,KACpC,CACD,GAAI,IAAM4K,EAAK,OAAOjL,EAAKS,KAC3B,IAAIoJ,EAAMtB,EAAKmB,EAAIuB,GAKnB,IAFAC,EAAMpN,EACN+M,EAAM,GACE7K,EAAKS,KAAKkB,OAAOuJ,IACnBA,aAAe3K,IAAMuK,EAAQI,EAAI9K,MACjC0K,aAAiBvK,IACfuK,EAAM1K,gBAAgBJ,IAAM+K,EAASnN,OAAOkN,EAAM1K,KAAKpC,SAC3DgN,EAASF,EAAMzK,KACfoI,EAAKiB,EAAI,EAAGqB,EAAkBF,EAAKhB,EAAKmB,GACxCH,GAAOE,EACHG,aAAe3K,IAAM2K,EAAMA,EAAI7K,OAGvC,OAAOiI,EAAKuB,EACb,CACH,EAmBErC,eACAK,eACAG,cACAE,cACAE,cACAC,eC/UF,MAAM7I,EAAOsB,EAAKtB,KAIZ0E,EAAO,SAAEiH,EACAC,EACAC,GAEb,QAHa,IAAAD,IAAAA,EAAapL,EAAKwE,UACD,IAAjB6G,IAAAA,EAAiB,CAAA,GAEV,iBAATF,EACT,MAAa,KAATA,IACJE,EAAKF,GAAQC,GADWC,EAIxB,GAAoB,IAAhBF,EAAK1O,OAAc,OAAO4O,EAC9B,GAAoB,IAAhBF,EAAK1O,OACP,OAAOyH,EAAKiH,EAAK,GAAIC,EAAMC,GACtB,CACL,MAAMC,EAAOlE,EAAKgD,IAAIpK,EAAKS,KAAMT,EAAKwE,IAAK4G,GAE3C,OADAC,EAAOnH,EAAKiH,EAAK,GAAIG,EAAMD,GACpBnH,EAAKiH,EAAKrO,MAAM,GAAIwO,EAAK3H,OAAQ0H,EACzC,CAEL,EAKME,EAAe,CACnBrH,OAAMsH,KALKA,CAACH,EAAgB7F,EAAY2F,IACjC3F,EAAK/B,GAAG4H,EAAKF,KC1BtB,MAAeM,GAIf,MAAMC,UAAaD,EAEjBnJ,WAAAA,GACEqJ,QAAQpJ,KAFVqJ,WAAK,EAGHrJ,KAAKqJ,MAAQhM,MAAM,GACrB,CAEAiM,MAAAA,CAAOnN,EAAW0C,EAAU0K,EAAaC,GAEvC,MAAMC,EAAMD,KADZD,GAAO,GAOP,OALAC,IAAQ,GAAKD,GAAO,EACpBvJ,KAAKqJ,MAAMI,QACTC,IAAc1J,KAAKqJ,MAAMI,GACrB,IAAIE,EAAOxN,EAAK0C,GAChBmB,KAAKqJ,MAAMI,GAAKH,OAAOnN,EAAK0C,EAAK0K,EAAKC,GACrCxJ,IACT,CACAmD,GAAAA,CAAIhH,EAAWoN,EAAaC,GAE1B,MAAMC,EAAMD,KADZD,GAAO,GAEPC,IAAQ,GAAKD,GAAO,EACpB,MAAMK,EAAM5J,KAAKqJ,MAAMI,GAEvB,YAAOC,IAAcE,OAAMF,EAAYE,EAAIzG,IAAIhH,EAAKoN,EAAKC,EAC3D,EAEF,MAAMK,UAAeX,EAEnBnJ,WAAAA,GACEqJ,QAAQpJ,KAFV8J,aAAO,EAGL9J,KAAK8J,QAAU,EACjB,CACAR,MAAAA,CAAOnN,EAAW0C,EAAU0K,EAAaC,GACvC,MAAMlO,EAAI0E,KAAK8J,QACf,IAAK,IAAIzP,EAAI,EAAGA,EAAIiB,EAAEpB,SAAUG,EAAG,CACjC,MAAM0H,EAAIzG,EAAEjB,GACZ,GAAI0H,EAAE5F,IAAIiD,OAAOjD,GAEf,OADA4F,EAAElD,IAAMA,EACDmB,IAEV,CAED,OADA1E,EAAEL,KAAK,IAAI0O,EAAOxN,EAAK0C,IAChBmB,IACT,CACAmD,GAAAA,CAAIhH,GACF,MAAMb,EAAI0E,KAAK8J,QACf,IAAK,IAAIzP,EAAI,EAAGA,EAAIiB,EAAEpB,SAAUG,EAAG,CACjC,MAAM0H,EAAIzG,EAAEjB,GACZ,GAAI0H,EAAE5F,IAAIiD,OAAOjD,GACf,OAAO4F,EAAElD,GAEZ,CACH,EAEF,MAAM8K,UAAeT,EAGnBnJ,WAAAA,CAAY5D,EAAW0C,GACrBuK,QAAQpJ,KAHV7D,SAAG,EAAA6D,KACHnB,SAAG,EAGDmB,KAAK7D,IAAMA,EACX6D,KAAKnB,IAAMA,CACb,CACAyK,MAAAA,CAAOnN,EAAW0C,EAAU0K,EAAaC,GACvC,GAAIxJ,KAAK7D,IAAIiD,OAAOjD,GAElB,OADA6D,KAAKnB,IAAMA,EACJmB,KACF,CACL,MAAM+J,EAAM/J,KAAK7D,IAAIsD,OAAU,GAAK8J,GAAO,EACrChM,EAAIgM,EAAM,EAAI,IAAIJ,EAAS,IAAIU,EAGrC,OAFAtM,EAAE+L,OAAOtJ,KAAK7D,IAAK6D,KAAKnB,IAAK0K,EAAKQ,GAClCxM,EAAE+L,OAAOnN,EAAK0C,EAAK0K,EAAKC,GACjBjM,CACR,CACH,CACA4F,GAAAA,CAAIhH,GACF,GAAI6D,KAAK7D,IAAIiD,OAAOjD,GAAM,OAAO6D,KAAKnB,GACxC,EAEF,MAAMmL,EAEJjK,WAAAA,GAAAC,KADAqJ,WAAK,EAEHrJ,KAAKqJ,MAAQhM,MAAM,GACrB,CACAiM,MAAAA,CAAOnN,EAAW0C,GAChB,MAAMoL,EAAI9N,EAAIsD,MACRgK,EAAMQ,IAAM,GACZL,EAAM5J,KAAKqJ,MACWO,EAAIH,QAAfC,IAAbE,EAAIH,GAA+B,IAAIE,EAAOxN,EAAK0C,GAG1C+K,EAAIH,GAAKH,OAAOnN,EAAK0C,EAAK,GADtB,SAALoL,EAGd,CACA9G,GAAAA,CAAIhH,GACF,MAAM8N,EAAI9N,EAAIsD,MAERmK,EAAM5J,KAAKqJ,MADLY,IAAM,IAElB,QAAIP,IAAcE,EAIhB,OAAOA,EAAIzG,IAAIhH,EAAK,GADL,SAAL8N,EAGd,ECtGF,SAASC,EAAc5N,GACrB,GAAqB,IAAjBA,EAAMpC,OAAc,OAAOgB,OAAOoB,EAAM,IAC5C,IAAIoJ,EACF9E,EAAkB,GACpB,IAAK,IAAIvG,EAAIiC,EAAMpC,OAAS,EAAGG,GAAK,IAAKA,EACvCqL,EAAiB,IAAXpJ,EAAMjC,GACZuG,EAAM3F,KAAKyK,EAAI1L,SAAS,IAAImQ,SAAS,EAAG,MAG1C,OADY3O,EAA0BoF,EAAMC,KAAK,IAAK,GAExD,CAEA,SAASuJ,GAAiB9O,GACxB,OAAO,IAAI+O,SAAU,IAAIjQ,WAAWP,EAAkByB,GAAG0B,WAAYsN,OACvE,CAUA,SAASC,GAAOhP,EAAWmE,GACzB,MAAM8K,EAAOrP,KAAKsP,MAAMlP,EAAI,GAC5B,OAASmE,EAAEgL,SAASF,IAAWjP,EAAI,EAAM,CAC3C,CAQA,SAASoP,GAAOpP,EAAWiE,EAAWE,GACpC,GAAU,IAANF,EAAS,OAAO+K,GAAOhP,EAAGmE,GAAK,GAAK,GACxC,MAAMkL,EAASrP,EAAI,EACnB,GAAe,IAAXqP,EAAc,OAwCpB,SAAyBrP,EAAWiE,EAAWE,GAC7C,GAAKnE,EAAI,GAAO,EAAG,MAAM,IAAIS,MAAM,yBAA2BT,GAC9D,IAAIsP,EAAU1P,KAAKsP,MAAMlP,EAAI,GAC7B,MAAM6E,EAAM,GAEZ,KAAOZ,GAAK,GACVY,EAAInF,KAAKyE,EAAEgL,SAASG,IACpBA,IACArL,GAAK,EAMP,OAHIA,EAAI,IACNY,EAAInF,KAAKyE,EAAEgL,SAASG,GAAa,KAAS,EAAIrL,GAEzC0K,EAAc9J,EACvB,CAvD2B0K,CAAgBvP,EAAGiE,EAAGE,GAC/C,MAAMU,EAAM,GACZ,IAAIyK,EAAU1P,KAAKsP,MAAMlP,EAAI,GAG7B,MAAMwP,EAAc,EAAIH,EAClBI,EAAcJ,EACdK,EAAU,KAAS,EAAID,EAC7B,KAAOxL,GAAK,GAAG,CACb,MAAMyC,EAAMvC,EAAEgL,SAASG,GACjB3I,EAAMxC,EAAEgL,SAASG,EAAU,GAKjCzK,EAAInF,MAHUiH,EAAM+I,IAAYF,EAClB9I,GAAO+I,GAIrBH,IACArL,GAAK,CACN,CAGD,GAAIA,EAAI,GAAI,CACV,MAAMuL,EAAc5P,KAAK+P,IAAI1L,EAAG,EAAIoL,GAC9BI,EAAcxL,EAAIuL,EAClBI,EAAW,KAAS,EAAIJ,GAAiBH,EACzCK,EAAU,KAAS,EAAID,EAEvB/I,EAAMvC,EAAEgL,SAASG,GACjB3I,EAAO2I,EAAU,GAAKnL,EAAE0L,WAAc,EAAI1L,EAAEgL,SAASG,EAAU,GAKrEzK,EAAInF,MAH0B,IAAhB+P,EAAqB,GAAM9I,EAAM+I,IAAYF,IAC5C9I,EAAMkJ,IAAYP,EAGlC,CAED,OAAOV,EAAc9J,EACvB,CAmBA,SAASiL,GAAI/P,EAAWgQ,EAAa7J,GACnC,IAAIjC,EAAGE,EAAGgF,EAAGS,EAAGoG,EAAGC,EAAMC,EAAGC,EAAGzB,EAK/B,IAHAA,EAAI3O,EAAImG,EACR8J,EAAIjQ,EAEG,IAAMiP,GAAOgB,EAAGD,IAAI,CAIzB,GAHAE,EAAID,EAAI,EAGJA,EAAItB,EAAG,MAAM,IAAIjO,MAAM,0BAE3BuP,EAAIC,CACL,CAED,GAAIlQ,IAAMiQ,EAAG,MAAO,CAAE1N,KAAM,EAAGC,KAAML,EAAKS,MAM1C,GAHAwB,EAAI6L,EAAI,GAERA,GAHA/L,EAAI+L,EAAIjQ,GAGA,GACA,GAAI,MAAM,IAAIU,MAAM,8CAa5B,OANAwP,GADArG,EAAI3F,EAAIA,IADRkF,GAHA8G,EAAI,GAAKD,GACLlQ,OAAOsP,GAAOjL,EAAG6L,EAAGD,KAOxBG,EAAItG,EAAIT,EACRgH,EAAIf,GAHAjL,EAAI6L,EAGM7G,EAAG4G,GAEV,CAAEzN,KAAM4N,EAAG3N,KAAM,IAAIL,EAAKiO,GACnC,CAEA,SAASpC,GAAOW,EAA4BjP,EAAWuC,GACrD,OAAO0M,EAAEjP,GAAKuC,CAChB,CAMA,SAASoO,GAAO1B,EAA4B2B,EAAcnK,EAAWlG,GACnE,IAAIsC,EACAgO,EAEJ,GAAI,IAAMtB,GAAOhP,EAAGqQ,GAAK,CACvB,MACMpM,EAAI6L,GADA,EAAI9P,EACGqQ,EAAInK,GACrB5D,EAAO2B,EAAE3B,KAAO,EAChBgO,EAAWrM,EAAE1B,KACbwL,GAAOW,EAAG1O,EAAGsQ,EACd,KAAM,CACL,IAAIC,EAAK,EAAIvQ,EAGb,GAAI,IAAMgP,GAFD,EAAIhP,EAEQqQ,GAAK,CACxB,MAAMG,EAAIJ,GAAO1B,EAAG2B,EAAInK,EAAGqK,GAErBR,EAAIK,GAAO1B,EAAG2B,EAAInK,EADdsK,EAAElO,KAAOiO,GAGnBjO,EAAO,GADGkO,EAAElO,KAAOyN,EAAEzN,MAErBgO,EAAW,IAAI7N,EAAK+N,EAAEjO,KAAMwN,EAAExN,MAC9BwL,GAAOW,EAAG1O,EAAGsQ,EACd,KAAM,CACL,MAAMnM,EAAI2L,GAAIS,EAAIF,EAAInK,GAChBuK,EA5BZ,SAAa/B,EAA4BjP,GACvC,OAAOiP,EAAEjP,EACX,CA0BiBmI,CAAI8G,EAAG5O,OAAOqE,EAAE5B,KAAKrC,SAChC,QAAIiO,IAAcsC,EAAI,MAAM,IAAIhQ,MAAM,QACtC6B,EAAO,EAAI6B,EAAE7B,KACbgO,EAAWG,CACZ,CACF,CACD,MAAO,CAAEnO,KAAMA,EAAMC,KAAM+N,EAC7B,CAKA,SAASI,GAAUX,GACjB,OAAOK,GAAO,CAAE,EAAEL,EApJpB,SAAsB5L,GACpB,MAAM+B,EAAI/B,EAAE0L,WAAa,EACzB,GAAI3J,EAAK,GAAG,GAAK,MAAM,IAAIzF,MAAM,+BACjC,OAAY,EAAJyF,EAAS/B,EAAEgL,SAASjJ,GAAGzH,SAAS,GAAGE,MAC7C,CAgJuBgS,CAAaZ,GAAI,GAAGxN,IAC3C,CAIA,SAASqO,GAAI7Q,GACX,GAAImC,EAAKS,KAAKkB,OAAO9D,GACnB,OAAO2B,EAAK,EAAG,GACV,CACL,MAAM1B,EAAI0B,EAAK4H,EAAKD,IAAI,EAAGtJ,IACzBkE,EAAIvC,EAAK4H,EAAKD,IAAI,EAAGrJ,IACrBwQ,EAAIlH,EAAK2C,IAAIhI,GACb8L,EAAIzG,EAAK0C,IAAI/H,EAAGA,GAChB+L,EAAI1G,EAAKkD,IAAItK,EAAKS,KAAM6N,EAAGxQ,GAC3B4J,EAAIN,EAAK+C,IAAIpI,GACbgM,EAAI3G,EAAKgD,IAAIpK,EAAKS,KAAM6N,EAAGzQ,GAC3B8Q,EAAIvH,EAAKmD,IAAIuD,EAAGC,GAChBC,EAAI5G,EAAK0C,IAAI+D,EAAG/P,GAChBmQ,EAAI7G,EAAKoD,IAAIxK,EAAKS,KAAMiH,EAAGiH,GAC7B,OAAOnP,EAAKwO,EAAGC,EAChB,CACH,CA2BA,SAASW,GAAa/Q,EAASmG,GAC7B,IAAI/B,EAAIyM,GAAI7Q,GACViQ,EAAI1G,EAAK0C,IAAI9J,EAAKwE,IAAKvC,EAAE7B,MAE3B,OAAOZ,EACLsO,EACA,CAAC,CAACA,EAAG1G,EAAKgD,IAAIpK,EAAKS,KAAMT,EAAKwE,IAAKvC,EAAE5B,OAAQ2D,GAC7ChE,EAAKS,KAET,CAEA,SAASoO,GACPrC,EACA3O,EACAC,EACAkG,GAEA,MAAMjC,EAAIyK,EAAE9G,IAAI7H,GAChB,OAAIoO,MAAalK,GACfyK,EAAEX,OAAOhO,EAAGC,GACLD,aAAa0C,EA9CxB,SACEiM,EACAsC,EACAC,EACAjR,EACAkG,GAEA,IAAI0D,EAAIlI,EAAK,CAAC,EAAG,GAAIwE,GACnB8J,EAAI1G,EAAK0C,IAAI9J,EAAKyE,IAAK3G,GACvBmE,EAAI4M,GAAQrC,EAAGsC,EAAKhB,EAAGpG,GAEvBT,EAAI4H,GAAQrC,EAAGuC,EADX3H,EAAK0C,IAAIgE,EAAG7L,EAAE7B,MACK6B,EAAE5B,KAAKD,MAC9BuO,EAAIvH,EAAK0C,IAAI7H,EAAE7B,KAAM6G,EAAE7G,MACzB,OAAOZ,EAAK4H,EAAK0C,IAAI9J,EAAKyE,IAAKkK,GAAI1H,EAAE5G,KAAKD,KAAMJ,EAAKS,KACvD,CAiCQuO,CAAaxC,EAAG3O,EAAEuC,KAAMvC,EAAEwC,KAAMvC,EAAGkG,GACnC4K,GAAa/Q,EAAGmG,IACXnG,aAAamC,GAAQoH,EAAKD,IAAI,EAAGtJ,IAAMuJ,EAAKD,IAAI,EAAGpF,GACrD6M,GAAa/Q,EAAGmG,GAnC3B,SAAqBiL,EAAWjL,GAC9B,IAAI/B,EAAIyM,GAAIO,GACVnB,EAAI1G,EAAKgD,IAAIpK,EAAKS,KAAMT,EAAKyE,IAAKxC,EAAE5B,MACpC0N,EAAI3G,EAAK0C,IAAI9J,EAAKyE,IAAKxC,EAAE7B,MAE3B,OAAOZ,EAAKuO,EAAG,CAAC,CAACA,EAAG3G,EAAKmD,IAAIvK,EAAKoF,MAAO0I,IAAK9J,GAAIhE,EAAKS,KAIzD,CA4BWyO,CAAYnN,EAAGiC,EAE1B,8CAzOA,SAAgBlG,EAAWiE,EAAWE,GACpC,OAAOiL,GAAOtP,OAAOE,GAAIF,OAAOmE,GAAI4K,GAAiB1K,GACvD,0CAuJA,SAAapE,GACX,OAAO2Q,GAAU7B,GAAiB9O,EAAEG,QACtC,8KAgFA,SAAa8B,GACX,MACEmO,ECtQJ,SAAcpQ,GAGZ,IAFA,IAAIC,EAAUkC,EAAKS,OAEN,CACX,GAAIT,EAAKS,KAAKkB,OAAO9D,GACnB,OAAOC,EACF,GAAID,aAAamC,EACtB,MAAM,IAAIzB,MAAM,QAEhBT,EAAI,IAAIyC,EAAK1C,EAAEuC,KAAMtC,GACrBD,EAAIA,EAAEwC,IAET,CACH,CDyPQ8O,CADIN,GAAQ,IAAItC,EAAWzM,EAAGE,EAAKS,KAAMT,EAAKS,MAClCJ,KAAKD,MACvB,OAAOgH,EAAKwD,IAAI5K,EAAKS,KAAMwN,EAC7B"}